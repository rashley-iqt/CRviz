(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){e.exports={listContainer:"AvailableFieldList_listContainer__lZgLB",draggableContainer:"AvailableFieldList_draggableContainer__Oe2ZM",dragForeignContainer:"AvailableFieldList_dragForeignContainer__ffQYG",isDraggingOver:"AvailableFieldList_isDraggingOver__2ZI_i",field:"AvailableFieldList_field__AjaO2",dragForeign:"AvailableFieldList_dragForeign__1lWgq",groupBy:"AvailableFieldList_groupBy__3Mn-q",fieldName:"AvailableFieldList_fieldName__1p886"}},132:function(e,t,a){e.exports={appContainer:"App_appContainer__QtPXV",controls:"App_controls__2wA6i",section:"App_section__s3xOK",footerContainer:"App_footerContainer__2RDOr",dimSection:"App_dimSection__1zfwr",hierarchySection:"App_hierarchySection__2fUkf",canvas:"App_canvas__1fY9M",sliderContainer:"App_sliderContainer__3mGyf",hideControls:"App_hideControls__2GMem",modal:"App_modal__z_4zM",modalMain:"App_modalMain__3oa8j",justifySpan:"App_justifySpan__3GGJs",icon:"App_icon__3qmGE",centerSpan:"App_centerSpan__37_5U",accordionHeader:"App_accordionHeader__3V3d_",dataControlHeader:"App_dataControlHeader__3H7yU",hidden:"App_hidden__1emPK",emptyDataset:"App_emptyDataset__3STIn",label:"App_label__3YLJx",selectorContainer:"App_selectorContainer__HjwSW",selector:"App_selector__1F3OW",checkboxContainer:"App_checkboxContainer__1mdST",switch:"App_switch__3COkM",switchLabel:"App_switchLabel__3AJYF","switch-inner":"App_switch-inner__17Dcc",uploadContainer:"App_uploadContainer__nB6vF",fileUpload:"App_fileUpload__1bzQK"}},133:function(e,t,a){e.exports={dataControls:"DatasetControls_dataControls__2WPxV",selectorContainer:"DatasetControls_selectorContainer__3zdeO",uploadContainer:"DatasetControls_uploadContainer__izwKQ",selector:"DatasetControls_selector__1-ZPD",fileUpload:"DatasetControls_fileUpload__1vorY",label:"DatasetControls_label__3bRl3",utilityContainer:"DatasetControls_utilityContainer__3RsyZ",fileDownload:"DatasetControls_fileDownload__3N8pM",urlRefreshContainer:"DatasetControls_urlRefreshContainer__2BOh7",urlRefresh:"DatasetControls_urlRefresh__hpLj8",urlContainer:"DatasetControls_urlContainer__2iQFV",urlRefreshTime:"DatasetControls_urlRefreshTime__3heCp",modal:"DatasetControls_modal__2nY-_",modalMain:"DatasetControls_modalMain__3s5YH",centerSpan:"DatasetControls_centerSpan__2HEg3",sliderContainer:"DatasetControls_sliderContainer__1fkIz",sliderSelectedScale:"DatasetControls_sliderSelectedScale__36y37",slider:"DatasetControls_slider__1wUuT",sliderScale:"DatasetControls_sliderScale__1axI9",sliderThumb:"DatasetControls_sliderThumb__2F5_W",sliderThumbMin:"DatasetControls_sliderThumbMin__3Oexy",sliderThumbMax:"DatasetControls_sliderThumbMax__qnrYc",slot:"DatasetControls_slot__-a2uw",scaleMark:"DatasetControls_scaleMark__2iiPp",slotScale:"DatasetControls_slotScale__-bU_2",line:"DatasetControls_line__26LiF",lineSelected:"DatasetControls_lineSelected__WnP1L"}},135:function(e,t,a){"use strict";(function(e){a.d(t,"c",function(){return f}),a.d(t,"a",function(){return h});var n=a(308),r=a(260),o=a(261),i=a(309),s=a(271),c=a(219),l=a(97),d=a(270),u=a(29),p=a(137),f=Object(n.a)("FETCH_DATASET"),h=function(t,a,n){var r=null;switch(function(e,t,a){var n="None";return a?n="Bearer":e&&t&&(n="Basic"),n}(t,a,n)){case"Basic":r={Authorization:"Basic "+new e("".concat(t,":").concat(a)).toString("base64")};break;case"Bearer":r={Authorization:"Bearer ".concat(n)};break;default:r=null}return r};t.b=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return e.pipe(Object(r.a)(f.toString()),Object(s.a)(500),Object(c.a)(function(e){var t=e.payload.owner,n=e.payload.url,r=e.payload.header;return a({url:n,headers:r,crossDomain:!0,responseType:"json"}).pipe(Object(l.a)(function(e){return{owner:t,content:e.response}}),Object(l.a)(p.c))}),Object(d.a)(function(e){var t=new Error("Error fetching dataset: "+e.message);return Object(o.a)(Object(u.d)(t))}))}}).call(this,a(247).Buffer)},137:function(e,t,a){"use strict";a.d(t,"c",function(){return m}),a.d(t,"a",function(){return g});var n=a(308),r=a(260),o=a(261),i=a(219),s=a(97),c=a(270),l=a(263),d=a(269),u=a(30),p=a(29),f=a(4),h=a(17),m=Object(n.a)("LOAD_DATASET"),g=function(e){var t=e.owner,a=e.file.trim().split(/[\r\n]+/g);if(a.length<2)return e;for(var n=function(e){for(var t=[",","|","\t",";"],a=0,n=-1,r=0;r<e.length;r++)n<e.split(t[r]).length-1&&(n=e.split(t[r]).length-1,a=r);return t[a]}(a[0]),r="[",o=a[0].split(n),i=1;i<a.length;i++){var s=a[i].split(n);if(s.length!==o.length)return e;r+="{ ";for(var c=0;c<o.length;c++)r+='"'+o[c]+'": "'+s[c]+'"',c<o.length-1?r+=", ":(r+=" }",i<a.length-1&&(r+=",\n"))}return{owner:t,file:r+="]"}},b=function(e){var t=e.owner,a=e.content,n=a.datasets,r=a.keyFields||[],o=a.ignoredFields||[],i=a.controls||{},s=!("includeData"in e)||e.includeData,c="includeControls"in e&&e.includeControls,u={};if(n)u=n;else if(!Object(d.a)(a.dataset)&&Object(l.a)(Array,a.dataset))u[t]={dataset:a.dataset},a.configuration&&(u[t].configuration=a.configuration);else if(Object(d.a)(a.dataset)&&Object(l.a)(Array,a))u[t]={dataset:a};else{if(!Object(d.a)(a.dataset))throw v("Data in invalid format");var p={};Object.entries(a).forEach(function(e){var t=e[0],a=e[1];p[t]=a}),u[t]={dataset:[p]}}return Object.keys(u).forEach(function(e){var t=u[e].dataset,a=u[e].configuration;u[e]=Object(f.b)(t,a,r,o)}),e={datasets:s?u:{},keyFields:s?r:{},ignoredFields:s?o:{},controls:c?i:{}}};function v(e){this.name="ValidationError",this.message=e}v.prototype=Object.create(Error.prototype),t.b=function(e,t){return e.pipe(Object(r.a)(m.toString()),Object(i.a)(function(e){var t=e.payload;return Object(o.a)(t).pipe(Object(s.a)(b),Object(i.a)(function(e){return Object(o.a)(Object(f.r)(e),Object(f.v)(e.keyFields),Object(f.t)(e.ignoredFields),Object(h.d)(e.controls),Object(u.a)(e))}),Object(c.a)(function(e){if(Object(l.a)(v,e))return Object(o.a)(Object(p.d)(e));throw e}))}))}},140:function(e,t,a){e.exports={header:"Header_header__22iYy",logo:"Header_logo__1Q9PB",appName:"Header_appName__3ZkiC",infoIcon:"Header_infoIcon__37dfu",infoPopup:"Header_infoPopup__vFXpZ",tagline:"Header_tagline__2wfq6"}},168:function(e,t,a){e.exports={searchControls:"SearchControls_searchControls__3c9kl",searchContainer:"SearchControls_searchContainer__11kME",search:"SearchControls_search__1lu7v",label:"SearchControls_label__3sWW2"}},17:function(e,t,a){"use strict";a.d(t,"d",function(){return l}),a.d(t,"f",function(){return p}),a.d(t,"h",function(){return f}),a.d(t,"a",function(){return m}),a.d(t,"i",function(){return h}),a.d(t,"c",function(){return b}),a.d(t,"g",function(){return d}),a.d(t,"e",function(){return u});var n,r=a(3),o=a(14),i=a(308),s=a(297),c={hierarchyConfig:[],shouldShowNodes:!0,darkTheme:!1,colorBy:null,start:null,end:null},l=Object(i.a)("SET_CONTROLS"),d=Object(i.a)("SET_START_DATASET"),u=Object(i.a)("SET_END_DATASET"),p=Object(i.a)("SET_HIERARCHY_CONFIG"),f=Object(i.a)("SHOW_NODES"),h=Object(i.a)("USE_DARK_THEME"),m=Object(i.a)("COLOR_BY"),g=Object(s.a)((n={},Object(r.a)(n,l,function(e,t){var a=t.payload,n=a.hierarchyConfig||c.hierarchyConfig,r=!("shouldShowNodes"in a)||!!a.shouldShowNodes,i="darkTheme"in a&&!!a.darkTheme,s=a.colorBy||c.colorBy,l=a.start||c.start,d=a.end||c.end;return Object(o.a)({},e,{hierarchyConfig:n,shouldShowNodes:r,darkTheme:i,colorBy:s,start:l,end:d})}),Object(r.a)(n,d,function(e,t){var a=t.payload;return Object(o.a)({},e,{start:a})}),Object(r.a)(n,u,function(e,t){var a=t.payload;return Object(o.a)({},e,{end:a})}),Object(r.a)(n,p,function(e,t){var a=t.payload;return Object(o.a)({},e,{hierarchyConfig:a})}),Object(r.a)(n,f,function(e,t){var a=t.payload;return Object(o.a)({},e,{shouldShowNodes:!!a})}),Object(r.a)(n,h,function(e,t){var a=t.payload;return Object(o.a)({},e,{darkTheme:!!a})}),Object(r.a)(n,m,function(e,t){var a=t.payload;return Object(o.a)({},e,{colorBy:a})}),n),c),b=function(e){return e.controls};t.b=g},190:function(e,t,a){e.exports={viz:"Visualization_viz__ukgQP",delta:"Visualization_delta__3vDxh",plus:"Visualization_plus__2hiPX",minus:"Visualization_minus__2rrmV","bg-circle":"Visualization_bg-circle__1JrSq"}},192:function(e){e.exports=[{name:"Small (400 nodes)",url:"https://raw.githubusercontent.com/cyberreboot/CRviz/master/sample_data/400.json"},{name:"Medium (1400 nodes)",url:"https://raw.githubusercontent.com/cyberreboot/CRviz/master/sample_data/1400.json"},{name:"Large (4000 nodes)",url:"https://raw.githubusercontent.com/cyberreboot/CRviz/master/sample_data/4000.json"}]},194:function(e,t,a){e.exports=a(256)},203:function(e,t,a){},221:function(e,t){e.exports="data:image/png;base64,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"},256:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(83),i=a.n(o),s=a(25),c=(a(203),a(3)),l=a(22),d=a(23),u=a(26),p=a(24),f=a(27),h=a(20),m=a.n(h),g=a(79),b=a.n(g),v=a(269),O=a(12),y=a(13),j=a(4),E=a(17),_=a(29),C=a(30),S=a(308),w=a(261),D=a(8),A=a(219),N=a(271),I=a(97),R=a(270),x=a(137),F=Object(S.a)("UPLOAD_DATASET"),k=function(e,t){return D.a.create(function(a){var n=new window.FileReader;n.addEventListener("load",function(){a.next({owner:e,file:n.result}),a.complete()}),n.addEventListener("error",function(){a.error(n.error),a.complete()}),n.readAsText(t)})},T=function(e){return{owner:e.owner,content:JSON.parse(e.file),includeData:!("includeData"in e)||e.includeData,includeControls:"includeControls"in e&&e.includeControls}},U=function(e,t){return e.ofType(F.toString()).pipe(Object(A.a)(function(e){var t=e.payload.owner,a=e.payload.file;return k(t,a).pipe(Object(N.a)(500),Object(I.a)(x.a),Object(I.a)(T),Object(I.a)(x.c),Object(R.a)(function(e){if(e instanceof SyntaxError){var t=new Error("Invalid JSON.");return Object(w.a)(Object(_.d)(t))}throw e}))}))},M=a(220),V=a.n(M),H=a(221),Z=a.n(H),L=a(140),z=a.n(L),P=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showInfo:!1},a.hideTooltip=function(){a.setState({showInfo:!1})},a.showTooltip=function(){a.setState({showInfo:!0})},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:z.a.header},r.a.createElement("a",{href:"http://www.cyberreboot.org/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:Z.a,className:z.a.logo,alt:"Cyber Reboot"})),r.a.createElement("span",{className:z.a.appName},"CRviz"),r.a.createElement("span",{className:z.a.infoIcon},r.a.createElement("label",{id:"showInfo",onMouseEnter:this.showTooltip,onMouseLeave:this.hideTooltip},r.a.createElement(O.a,{icon:y.j})),r.a.createElement(V.a,{active:this.state.showInfo,position:"bottom",parent:"#showInfo",tooltipTimeout:250},r.a.createElement("div",{className:z.a.infoPopup},"About CRviz:",r.a.createElement("br",null),"Home: ",r.a.createElement("a",{href:"https://www.cyberreboot.org/projects/crviz/"},"https://www.cyberreboot.org/projects/crviz/"),r.a.createElement("br",null),"Version: ","0.3.1-alpha5"," ",r.a.createElement("br",null),"Copyright \xa9 2017-2018 IQT Labs LLC."))))}}]),t}(r.a.Component),B=a(36),G=a(304),K=a(259),q=a(276),W=a(277),Y=a(278),X=a(306),J=a(272),Q=a(273),$=a(216),ee=a(46),te=a(307);function ae(e){var t,a=e.style,n=e.initialItemText,o=e.subsequentItemText,i=e.displayName,s=e.dragIndex,l=e.animated,d=e.provided;return r.a.createElement("div",null,r.a.createElement("div",Object.assign({className:a.draggable,ref:d.innerRef},d.draggableProps,d.dragHandleProps),r.a.createElement("div",{className:a.field},r.a.createElement("span",{className:m()((t={},Object(c.a)(t,a.groupBy,!0),Object(c.a)(t,a.animated,l),t))},0===s?n:o),r.a.createElement("span",{className:a.fieldName},i))),d.placeholder)}var ne=function(e){var t=e.style,a=e.initialItemText,n=e.subsequentItemText,o=e.displayName,i=e.count,s=void 0===i?0:i,c=e.index,l=e.draggableId,d=e.dragIndex,u=e.animated;return r.a.createElement(B.b,{draggableId:l,type:"Field",index:c},function(e,i){return r.a.createElement(ae,{style:t,initialItemText:a,subsequentItemText:n,displayName:o+" ("+s+")",dragIndex:d,provided:e,animated:u})})},re=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={lastFields:[],toAnimate:null},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({lastFields:this.props.fields})}},{key:"render",value:function(){var e=this,t=this.props,a=t.style,n=t.initialItemText,o=t.subsequentItemText,i=t.fields,s=t.values,c=t.getFieldId,l=t.droppableId,d=t.dragState,u=ie(l,d);return r.a.createElement("div",{className:a.listContainer},r.a.createElement(B.c,{droppableId:l,type:"Field"},function(t,p){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.droppableProps,{className:a.droppable}),r.a.createElement(oe,{style:a,initialItemText:n,subsequentItemText:o,fields:i,values:s,getFieldId:c,droppableId:l,dragState:d,toAnimate:e.state.toAnimate}),u&&d.destination.index!==i.length&&t.placeholder)}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.getFieldId,n=Object(J.a)(Object(Q.a)(a),e.fields,t.lastFields)[0];n&&(n=Object(te.a)(Object(Q.a)(a,n),e.fields)<t.lastFields.length?n:null);return{lastFields:e.fields,toAnimate:n}}}]),t}(r.a.Component);function oe(e){var t=e.fields,a=e.values,n=e.getFieldId,o=e.style,i=e.initialItemText,s=e.subsequentItemText,c=e.droppableId,l=e.dragState,d=e.toAnimate;return Object(X.a)(t)?null:t.map(function(e,t){var u=n(e),p=d&&n(e)===n(d),f=a[u].length;return r.a.createElement(ne,{style:o,initialItemText:i,subsequentItemText:s,draggableId:u,key:u,displayName:e.displayName,count:f,index:t,dragIndex:se(c,l,t),animated:p||!1})})}var ie=function(e,t){return!Object(v.a)(t)&&Object($.a)(["destination","droppableId"],t)===e},se=function(e,t,a){if(!ie(e,t))return a;var n=t.source,r=t.destination,o=n.index,i=r.index;return n.droppableId!==r.droppableId?a>=i?a+1:a:a===o?i:a<Math.min(o,i)||a>Math.max(o,i)?a:o<i?a-1:a+1};re.defaultProps={fields:[]};var ce=re,le=a(268),de=a(274),ue=a(275),pe=a(52),fe=a(14);var he=function(e){var t=e.style,a=e.displayName,n=e.index,o=e.draggableId;return r.a.createElement(B.b,{draggableId:o,type:"Field",index:n},function(e,n){return r.a.createElement("span",{className:t.draggableContainer},r.a.createElement("span",Object.assign({className:t.field,ref:e.innerRef},e.draggableProps,e.dragHandleProps,{style:Object(fe.a)({},e.draggableProps.style,{transform:n.isDragging?e.draggableProps.style.transform:"none"})}),a))})};function me(e){var t=e.style,a=e.fields,n=e.values,o=e.getFieldId,i=e.droppableId,s=e.dragState;return r.a.createElement(B.c,{droppableId:i,type:"Field"},function(e,i){var l,d=be(s,a,o);return r.a.createElement("div",Object.assign({className:m()(t.listContainer,(l={},Object(c.a)(l,t.dragForeign,d),Object(c.a)(l,t.isDraggingOver,i.isDraggingOver),l)),ref:e.innerRef},e.droppableProps),!Object(X.a)(a)&&Object(le.a)(ge(o,n),a).map(function(e,a){var i=o(e),s=n[i].length||0;return r.a.createElement(he,{style:t,key:i,draggableId:i,displayName:"".concat(e.displayName," (").concat(s,")"),index:a,withPlaceholder:!1})}),d&&r.a.createElement("div",{className:t.dragForeignContainer},r.a.createElement("span",null,r.a.createElement(O.a,{icon:y.s}))))})}var ge=Object(de.a)(function(e,t,a){return t[e(a)].length}),be=function(e,t,a){return e&&e.draggableId&&!Object(ue.a)(e.draggableId,Object(pe.a)(a,t))};me.defaultProps={fields:[]};var ve=me;var Oe=function(e){var t,a=e.style,n=e.initialItemText,o=e.subsequentItemText,i=e.droppableId,s=e.isDropDisabled,l=e.fields;return r.a.createElement("div",{className:m()((t={},Object(c.a)(t,a.listContainer,!0),Object(c.a)(t,a.isDropDisabled,s),t))},r.a.createElement("div",{className:a.draggable},r.a.createElement("div",{className:a.field},r.a.createElement("span",{className:a.groupBy},0===l.length?n:o),r.a.createElement(B.c,{isDropDisabled:s,droppableId:i,type:"Field"},function(e,t){var n;return r.a.createElement("span",Object.assign({ref:e.innerRef},e.droppableProps,{className:m()((n={},Object(c.a)(n,a.dropTarget,!0),Object(c.a)(n,a.isDraggingOver,t.isDraggingOver),n))}),"Drop attribute here")}))))},ye=a(104),je=a.n(ye),Ee=a(70),_e=a.n(Ee),Ce="SelectedFieldList",Se="DropTarget",we=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={dragState:null},a.onDragStart=function(e){a.setState({dragState:e})},a.onDragUpdate=function(e){a.setState({dragState:e})},a.onDragEnd=function(e){var t=e.draggableId,n=e.destination;a.setState({dragState:null}),null!==n&&(n.droppableId===Ce?a.updateHierarchy(t,n.index):n.droppableId===Se?a.updateHierarchy(t,a.props.controls.hierarchyConfig.length):a.removeField(t))},a.updateHierarchy=function(e,t){var n=a.props.configuration.fields,r=a.props.controls.hierarchyConfig,o=De(r,e);if(o!==t){var i,s=Object(G.a)((i=e,function(e){return Object(j.d)(e)===i}),n),c=Object(v.a)(o)?K.a:Object(q.a)(o,1),l=Object(W.a)(t,s),d=Object(Y.a)(l,c)(r);a.props.setHierarchyConfig(d)}},a.removeField=function(e){var t=a.props.controls.hierarchyConfig,n=a.props.setHierarchyConfig,r=De(t,e);null!==r&&n(Object(q.a)(r,1,t)),0===a.props.controls.hierarchyConfig.length&&a.props.showNodes(!0)},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){if(null===this.props.configuration)return null;var e=this.props.controls.hierarchyConfig;if(Object(X.a)(this.props.configuration.fields))return null;var t=Object(J.a)(Object(Q.a)(j.d),this.props.configuration.fields.filter(function(e){return e.groupable}),e),a=this.props.values,n=this.state.dragState;return r.a.createElement("div",null,r.a.createElement(B.a,{onDragStart:this.onDragStart,onDragUpdate:this.onDragUpdate,onDragEnd:this.onDragEnd},r.a.createElement("div",{style:{marginBottom:"2rem"}},r.a.createElement(ce,{style:_e.a,initialItemText:"Group By",subsequentItemText:"Then By",fields:e,values:a,droppableId:Ce,getFieldId:j.d,dragState:n}),r.a.createElement(Oe,{style:_e.a,initialItemText:"Group By",subsequentItemText:"Then By",isDropDisabled:Object($.a)(["source","droppableId"],n)===Ce,droppableId:Se,fields:this.props.controls.hierarchyConfig})),r.a.createElement(ve,{style:je.a,fields:t,values:a,droppableId:"AvailableFieldList",getFieldId:j.d,dragState:this.state.dragState})))}}]),t}(r.a.Component),De=function(e,t){var a=Object(Y.a)(Object(ee.a)(t),j.d),n=Object(te.a)(a,e);return-1===n?null:n},Ae={setHierarchyConfig:E.f,showNodes:E.h},Ne=Object(s.b)(function(e){return{configuration:Object(j.n)(e),values:Object(j.o)(e),controls:Object(E.c)(e)}},Ae)(we),Ie=a(260),Re=a(279),xe=function(e){var t=e.start.owner,a=e.start.dataset,n=e.end.owner,r=e.end.dataset,o={added:[],changed:[],removed:[]};return o.added=o.added.concat(r.filter(function(e){return-1===a.findIndex(function(t){return t.CRVIZ._HASH_KEY===e.CRVIZ._HASH_KEY})}).map(function(e){return e.CRVIZ._HASH_KEY})),o.removed=o.removed.concat(a.filter(function(e){return-1===r.findIndex(function(t){return t.CRVIZ._HASH_KEY===e.CRVIZ._HASH_KEY})}).map(function(e){return e.CRVIZ._HASH_KEY})),o.changed=o.changed.concat(r.filter(function(e){return-1!==a.findIndex(function(t){return t.CRVIZ._HASH_KEY===e.CRVIZ._HASH_KEY&&t.CRVIZ._HASH_WITHOUT_IGNORED!==e.CRVIZ._HASH_WITHOUT_IGNORED})}).map(function(e){return e.CRVIZ._HASH_KEY})),{start:t,end:n,differences:o}},Fe=function(e,t){return e.pipe(Object(Ie.a)("DIFF_DATASET"),Object(Re.a)(function(e){var t=e.payload;return Object(w.a)(t).pipe(Object(I.a)(xe),Object(I.a)(function(e){return Object(j.q)(e)}))}))},ke="KeyFieldList",Te="IgnoredFieldList",Ue="KeyTarget",Me="IgnoredTarget",Ve=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={dragState:null},a.onDragStart=function(e){a.setState({dragState:e})},a.onDragUpdate=function(e){a.setState({dragState:e})},a.onDragEnd=function(e){var t=e.draggableId,n=e.destination;a.setState({dragState:null}),null!==n&&(n.droppableId===ke?a.updateKeyFields(t,n.index):n.droppableId===Ue?a.updateKeyFields(t,a.props.keyFields.length):n.droppableId===Te?a.updateIgnoreFields(t,n.index):n.droppableId===Me?a.updateIgnoreFields(t,a.props.ignoredFields.length):a.removeField(t))},a.getUpdatedFields=function(e,t,n){var r=a.props.configuration.fields,o=He(n,e);if(o!==t){var i,s=Object(G.a)((i=e,function(e){return Object(j.d)(e)===i}),r),c=Object(v.a)(o)?K.a:Object(q.a)(o,1),l=Object(W.a)(t,s);return Object(Y.a)(l,c)(n)}},a.updateKeyFields=function(e,t){var n=a.props.keyFields,r=a.props.ignoredFields,o=a.getUpdatedFields(e,t,n);o&&(a.props.setKeyFields(o),a.updateDiff(o,r))},a.updateIgnoreFields=function(e,t){var n=a.props.keyFields,r=a.props.ignoredFields,o=a.getUpdatedFields(e,t,r);o&&(a.props.setIgnoredFields(o),a.updateDiff(n,o))},a.removeField=function(e){var t=a.props.keyFields,n=He(t,e),r=a.props.ignoredFields,o=He(r,e),i=null,s=null;null!==n&&(i=Object(q.a)(n,1,t),a.props.setKeyFields(i)),null!==o&&(s=Object(q.a)(o,1,r),a.props.setIgnoredFields(s)),(i||s)&&a.updateDiff(i||t,s||r)},a.updateDiff=function(e,t){var n={start:{owner:a.props.startUuid,dataset:a.props.start},end:{owner:a.props.endUuid,dataset:a.props.end},configuration:a.props.configuration,key:e,ignore:t};a.props.diffDataset(n)},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){if(null===this.props.configuration)return null;var e=this.props.keyFields,t=this.props.ignoredFields,a=e.concat(t);if(Object(X.a)(this.props.configuration.fields))return null;var n=Object(J.a)(Object(Q.a)(j.d),this.props.configuration.fields.filter(function(e){return e.groupable}),a),o=this.props.values,i=this.state.dragState;return r.a.createElement("div",null,r.a.createElement(B.a,{onDragStart:this.onDragStart,onDragUpdate:this.onDragUpdate,onDragEnd:this.onDragEnd},r.a.createElement("div",{style:{marginBottom:"2rem"}},r.a.createElement(ce,{style:_e.a,initialItemText:"Key On",subsequentItemText:"And",fields:e,values:o,droppableId:ke,getFieldId:j.d,dragState:i}),r.a.createElement(Oe,{style:_e.a,initialItemText:"Key On",subsequentItemText:"And",isDropDisabled:Object($.a)(["source","droppableId"],i)===ke,droppableId:Ue,fields:this.props.keyFields})),r.a.createElement("div",{style:{marginBottom:"2rem"}},r.a.createElement(ce,{style:_e.a,initialItemText:"Ignore",subsequentItemText:"And",fields:t,values:o,droppableId:Te,getFieldId:j.d,dragState:i}),r.a.createElement(Oe,{style:_e.a,initialItemText:"Ignore",subsequentItemText:"And",isDropDisabled:Object($.a)(["source","droppableId"],i)===Te,droppableId:Me,fields:this.props.ignoredFields})),r.a.createElement(ve,{style:je.a,fields:n,values:o,droppableId:"AvailableFieldList",getFieldId:j.d,dragState:this.state.dragState})))}}]),t}(r.a.Component),He=function(e,t){var a=Object(Y.a)(Object(ee.a)(t),j.d),n=Object(te.a)(a,e);return-1===n?null:n},Ze={setKeyFields:j.v,setIgnoredFields:j.t,diffDataset:function(e){return{type:"DIFF_DATASET",payload:e}}},Le=Object(s.b)(function(e,t){return{start:Object(j.k)(e,t.startUuid),end:Object(j.k)(e,t.endUuid),keyFields:Object(j.g)(e),ignoredFields:Object(j.e)(e),configuration:Object(j.n)(e),values:Object(j.o)(e)}},Ze)(Ve),ze=a(280),Pe=a(131),Be=a(281),Ge=a(266);var Ke=Object(de.a)(function(e,t,a){return t[e(a)].length}),qe=Object(Y.a)(Object(ze.a)("."),Object(Pe.a)("path")),We=function(e,t){var a=Object(Be.a)(".",t);return Object(G.a)(Object(Ge.a)("path",a),e)},Ye=function(e){var t=e.fields,a=e.values,n=e.getFieldId,o=e.value,i=e.onChange,s=e.className,c=e.name;return r.a.createElement("div",{className:s},r.a.createElement("label",{className:"select"},r.a.createElement("select",{name:c,onChange:function(e){return i(We(t,e.target.value))},value:Object(v.a)(o)?"":qe(o)},r.a.createElement("option",{value:""},"\u2014None\u2014"),Object(le.a)(Ke(n,a),t).map(function(e){var t=n(e);return r.a.createElement("option",{key:t,value:t},e.displayName," (",a[n(e)].length,")")}))))},Xe=a(54),Je=a.n(Xe);var Qe=Object(s.b)(function(e){return{controls:Object(E.c)(e),configuration:Object(j.n)(e),values:Object(j.o)(e)}},function(e){return{showNodes:function(t){return e(Object(E.h)(t))},useDarkTheme:function(t){return e(Object(E.i)(t))},colorBy:function(t){return e(Object(E.a)(t))}}})(function(e){var t=e.controls,a=e.configuration,n=e.values,o=e.showNodes,i=e.colorBy,s=e.useDarkTheme,c=a.fields.filter(function(e){return e.groupable});return r.a.createElement("div",{className:Je.a.container},r.a.createElement("div",{className:"".concat(Je.a.checkboxContainer," input-group")},r.a.createElement("div",{className:Je.a.switch},r.a.createElement("input",{type:"checkbox",id:"show-node-check",checked:t.shouldShowNodes,onChange:function(e){return o(e.target.checked)}}),r.a.createElement("label",{htmlFor:"show-node-check",className:Je.a.switchLabel})),r.a.createElement("label",null,"Show nodes")),r.a.createElement("div",{className:"".concat(Je.a.checkboxContainer," input-group")},r.a.createElement("div",{className:Je.a.switch},r.a.createElement("input",{type:"checkbox",id:"dark-theme-check",checked:t.darkTheme,onChange:function(e){return s(e.target.checked)}}),r.a.createElement("label",{htmlFor:"dark-theme-check",className:Je.a.switchLabel})),r.a.createElement("label",null,"Use dark theme")),r.a.createElement("div",{className:"input-group ".concat(Je.a.colorBy)},r.a.createElement("label",{htmlFor:"colorBy"},"Color by"),r.a.createElement("div",{className:Je.a.fieldSelect},r.a.createElement(Ye,{name:"colorBy",className:Je.a.selector,onChange:i,fields:c,values:n,getFieldId:j.d,value:t.colorBy}))))}),$e=a(33),et=a(263),tt=a(282),at=a(155),nt=Object(S.a)("SEARCH_DATASET"),rt=function(e){e.results=[];var t=e.queryString||"",a=e.searchIndices,n=[];if(a&&t)for(var r in a){var o=a[r].search(t.toLowerCase()),i=new Set([].concat(Object($e.a)(n),Object($e.a)(o)));n=Object($e.a)(i)}e.dataset.forEach(function(e){e.CRVIZ._isSearchResult=!1}),n.forEach(function(t){var a=e.dataset.find(function(e){return e.CRVIZ._HASH_KEY===t.ref});a&&(a.CRVIZ._isSearchResult=!0,e.results.push(a))})},ot=function(e,t){return e.pipe(Object(Ie.a)(nt.toString()),Object(A.a)(function(e){var t=e.payload;return Object(w.a)(t).pipe(Object(tt.a)(rt),Object(I.a)(function(e){return Object(C.h)({queryString:e.queryString,results:e.results||[]})}),Object(R.a)(function(e){if(Object(et.a)(at.QueryParseError,e))return Object(w.a)(Object(_.d)(e));throw e}))}))},it=a(168),st=a.n(it),ct={queryString:"",searchIndices:[],hasSearch:!1},lt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state=ct,a.handleQueryStringChange=function(e){a.setState({queryString:e.target.value})},a.handleKeyPress=function(e){"Enter"===e.key&&a.handleSearch()},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"handleSearch",value:function(){this.setState({hasSearch:""!==this.state.queryString});var e={dataset:this.props.dataset,configuration:this.props.configuration,searchIndices:this.props.searchIndices,queryString:this.state.queryString,results:this.props.results};this.props.searchDataset(e)}},{key:"clearSearch",value:function(){this.setState(ct,function(){this.handleSearch()})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:st.a.searchContainer},r.a.createElement("span",{className:st.a.search},r.a.createElement("input",{type:"search",id:"search-string",placeholder:"Search",value:this.state.queryString,onChange:this.handleQueryStringChange,onKeyPress:this.handleKeyPress}),r.a.createElement("label",{htmlFor:"search-string",className:"button circular",onClick:function(){return e.handleSearch()},title:"Search"},r.a.createElement(O.a,{icon:y.n}))),this.state.hasSearch&&r.a.createElement("span",null,r.a.createElement("label",{id:"search-results"}," ",this.props.results.length," Results found "),r.a.createElement("label",{htmlFor:"search-results",className:"button circular",onClick:function(){return e.clearSearch()}},r.a.createElement(O.a,{icon:y.r}))))}}]),t}(r.a.Component),dt={searchDataset:nt},ut=Object(s.b)(function(e,t){var a=Object.keys(e.dataset.datasets)[0]||"";return{dataset:Object(j.k)(e,a),configuration:Object(j.j)(e,a),searchIndices:Object(C.d)(e),queryString:e.search.queryString,results:Object(C.e)(e)}},dt)(lt),pt=a(47),ft=a(1),ht=a(188),mt=a(189),gt=a.n(mt),bt=a(303),vt=a(291),Ot=a(292),yt=a(130),jt=a(144),Et=a(293),_t=a(217),Ct=a(51),St=a(283),wt=a(284),Dt=a(285),At=a(286),Nt=a(302),It=a(257),Rt=a(264),xt=a(287),Ft=Object(wt.a)(St.a),kt=function(e){e=Mt(Object(pe.a)(Mt,e));var t=Object(pe.a)(Tt,e),a=Ut(t),n=Object(pe.a)(Ut,Object(pe.a)(Object(pe.a)(Object(Pe.a)("r")),e));return Ft(function(e,t){return Ft(function(e,r){e.x=n[t][r],e.y=a[t]},e)},e)},Tt=function(e){return Math.max.apply(Math,Object($e.a)(e.map(function(e){return e.r})))},Ut=function(e){var t=Object(pe.a)(function(e){return 2*e},e),a=0-Object(jt.a)(Dt.a,0,t)/2+e[0];return Object(jt.a)(function(e,t){var a=Object(pt.a)(t,2),n=a[0],r=a[1];return[].concat(Object($e.a)(e),[Object(At.a)(e)+n+r])},[a],Object(Nt.a)(2,e))},Mt=function(e){var t,a=(t=e,Object(wt.a)(It.a)(function(e,t){return t%2===0},t)),n=function(e){return Object(wt.a)(It.a)(function(e,t){return t%2!==0},e)}(e);return Object(Rt.a)(Object(yt.a)(a),n)},Vt=function(e){return Object(xt.a)(Math.ceil(Math.sqrt(e.length)),e)},Ht=function(e){var t=Vt(e);kt(t);var a=Object(Ct.b)(e);Object(St.a)(function(e){e.x-=a.x,e.y-=a.y},e)},Zt=function(e){return function(t){t.children||(t.r=Math.max(e(t),0))}},Lt=function(e,t,a){return function(n){if(n.children){var r=n.children,o=t(n)*a||0;o&&r.forEach(function(e){return e.r+=o}),e(r);var i=Object(Ct.b)(r).r;o&&r.forEach(function(e){return e.r-=o}),n.r=i+.1*i+o}}},zt=function(e){return function(t){var a=t.parent;t.r*=e,t.labelSize&&(t.labelSize*=e,t.labelY=t.r-t.labelSize/2,t.labelWidth=2*Math.sqrt(Math.pow(t.r,2)-Math.pow(t.labelY,2))),a&&(t.x=a.x+e*t.x,t.y=a.y+e*t.y,a.labelSize&&(t.y-=a.labelSize/2))}},Pt=function(){var e={radius:null,size:[1,1],padding:function(){return 30},packSiblings:Ht},t=function(t){t.x=e.size[0]/2,t.y=e.size[1]/2;var a=e.radius,n=e.size,r=e.packSiblings,o="function"===typeof e.padding?e.padding:function(){return e.padding};return a?t.eachBefore(Zt(a)).eachAfter(Lt(r,o,.5)).eachBefore(zt(1)):t.eachBefore(Zt(function(e){return Math.sqrt(e.value)})).eachAfter(Lt(r,function(){return 20},1)).eachAfter(Lt(r,o,t.r/Math.min.apply(Math,Object($e.a)(n)))).eachBefore(zt(Math.min.apply(Math,Object($e.a)(n))/(2*t.r))),t};return Object.keys(e).forEach(function(a){t[a]=function(){return 0===arguments.length?e[a]:(e[a]=arguments.length<=0?void 0:arguments[0],t)}}),t},Bt=a(298),Gt=a(288),Kt=a(42),qt=function(e){return Object(jt.a)(function(e,t){return e.key(function(e){return Object($.a)(t.path,e)})},Object(Kt.b)(),e)},Wt=function e(t){if(Object(v.a)(t))return 0;var a=0;for(var n in t)"CRVIZ"in t[n]||(t[n].CRVIZ={}),a+=(t[n].CRVIZ._searchResultCount||0)+(t[n].CRVIZ._isSearchResult||0)+(Object(v.a)(t[n].values)?0:e(t[n].values));return a},Yt=function e(t){if(Object(v.a)(t))return 0;var a=0;for(var n in t)"CRVIZ"in t[n]||(t[n].CRVIZ={}),a+=(t[n].CRVIZ._addedCount||0)+(t[n].CRVIZ._isAdded||0)+(Object(v.a)(t[n].values)?0:e(t[n].values));return a},Xt=function e(t){if(Object(v.a)(t))return 0;var a=0;for(var n in t)"CRVIZ"in t[n]||(t[n].CRVIZ={}),a+=(t[n].CRVIZ._changedCount||0)+(t[n].CRVIZ._isChanged||0)+(Object(v.a)(t[n].values)?0:e(t[n].values));return a},Jt=function e(t){if(Object(v.a)(t))return 0;var a=0;for(var n in t)"CRVIZ"in t[n]||(t[n].CRVIZ={}),a+=(t[n].CRVIZ._removedCount||0)+(t[n].CRVIZ._isRemoved||0)+(Object(v.a)(t[n].values)?0:e(t[n].values));return a},Qt=function e(t,a,n,r){return"Unknown"===t?{fieldValue:t,field:a,children:Object(Bt.a)($t,r),CRVIZ:{_searchResultCount:Wt(r),_addedCount:Yt(r),_changedCount:Xt(r),_removedCount:Jt(r)}}:{fieldValue:t,field:a,children:Object(pe.a)(function(t){return t.values?e(t.key,Object(Gt.a)(n),Object(_t.a)(n),t.values):t},r),CRVIZ:{_searchResultCount:Wt(r),_addedCount:Yt(r),_changedCount:Xt(r),_removedCount:Jt(r)}}},$t=function e(t){return t.values?Object(Bt.a)(e,t.values):[t]},ea=function(e,t){var a=qt(t).entries(e),n=Qt("root",null,t,a);return Object(Ct.a)(n)},ta=function e(t){return 0===t.depth?"root":t.height>0?[e(t.parent),t.data.field.path.join("."),t.data.fieldValue].join("."):t.data.uid},aa=function(e){return"viz-".concat(e)},na=function(e){var t=e.nodeRoot,a=(e.labelRoot,e.packedData),n=e.showNodes,r=e.hasSearch,o=a.descendants(),i=t.selectAll("g.".concat(aa("node"))).data(o,ta);i.exit().remove();var s=i.enter().append("g").classed(aa("node"),!0);return s.merge(i).attr("data-key",ta).classed(aa("rootNode"),function(e){return 0===e.depth}).classed(aa("groupingNode"),function(e){return e.depth>0&&e.height>0}).classed(aa("containsSearchResult"),function(e){return r&&e.data.CRVIZ._searchResultCount>0&&e.depth>0&&e.height>0}).classed(aa("containsNoSearchResult"),function(e){return r&&0===e.data.CRVIZ._searchResultCount&&e.depth>0&&e.height>0}).classed(aa("searchResult"),function(e){return r&&e.data.CRVIZ._isSearchResult&&e.depth>0&&0===e.height}).classed(aa("isChanged"),function(e){return e.data.CRVIZ._isChanged&&e.depth>0&&0===e.height}).classed(aa("isAdded"),function(e){return e.data.CRVIZ._isAdded&&e.depth>0&&0===e.height}).classed(aa("isRemoved"),function(e){return e.data.CRVIZ._isRemoved&&e.depth>0&&0===e.height}).classed(aa("searchExcluded"),function(e){return r&&!e.data.CRVIZ._isSearchResult&&e.depth>0&&0===e.height}).classed(aa("leafNode"),function(e){return 0===e.height}).attr("transform",function(e){return"translate(".concat([e.x,e.y].join(","),")")}).attr("display",function(e){return n||0!==e.height?null:"none"}).order(),i.select("circle").merge(s.append("circle")).attr("r",function(e){return e.r}),[i.merge(s)]},ra=a(73),oa=function(e,t){var a=function(e){return e.r*t.k<1};e.filter(":not(.viz-zoomMinutia)").filter(function(e){return a(e)}).classed("viz-zoomMinutia",!0),e.filter(".viz-zoomMinutia").filter(function(e){return!a(e)}).classed("viz-zoomMinutia",!1)},ia=function(e,t,a){var n=Math.min(e,t),r=n*Math.max(e/t,1),o=n*Math.max(t/e,1);return[-a.x/a.k,-a.y/a.k,(-a.x+r)/a.k,(-a.y+o)/a.k]},sa=function(e){return[e.x-e.r,e.y-e.r,e.x+e.r,e.y+e.r]},ca=function(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]},la=function(e){var t=e.zoomRoot,a=e.transformRoot,n=e.nodes,r=(e.showNodes,e.width),o=e.height,i=e.packedData,s={zoomTo:null,zoomToTransform:null,transform:Object(ra.c)(t.node())},c=Object(ra.a)();c.on("zoom",function(){var e=ft.b;s.transform=e.transform,m(e.transform)}),t.call(c);var l=.25,d=i.r,u=i.x,p=i.y,f=[Math.min(r,o)/(2*d),Math.min(r,o)/(2*i.leaves()[0].r*(1+l))],h=[[u-r/2/f[0]*2,p-o/2/f[0]*2],[u+r/2/f[0]*2,p+o/2/f[0]*2]];function m(e){a.style("transform","translate(".concat(Math.floor(e.x),"px, ").concat(Math.floor(e.y),"px) scale(").concat(e.k,")"));var t=ia(r,o,e);n.filter(function(e){return ca(t,sa(e))}).call(oa,e)}return c.scaleExtent(f).translateExtent(h),n.classed("viz-zoomMinutia",!0),s.transform&&m(s.transform),s.zoomTo=function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=2*e.r*(1+l),i=Math.min(r,o)/n,s=ra.b.scale(i).translate(-e.x+r/2/i,-e.y+o/2/i);c.transform(a?t.transition().duration(1e3):t,s)},s.zoomToTransform=m,s},da=function(e,t,a,n,r){var o=Object(ft.f)(e.target).datum(),i=ua(o,t);i?(r.node().innerHTML=i,r.style("display","block").style("transform","translate3d(".concat(e.x+n+1,"px, ").concat(e.y+a+1,"px, 0)"))):r.style("display","none")},ua=function(e,t){if(e.depth>0&&e.height>0){var a="".concat(e.data.fieldValue," (").concat(e.value,")");return e.data.CRVIZ._searchResultCount>0&&(a+="<br/><span>".concat(e.data.CRVIZ._searchResultCount," search results</span>")),a}if(0===e.height){var n=Object(pe.a)(function(t){return["<strong>".concat(t.displayName,"</strong>"),Object($.a)(t.path,e.data)]},t);return Object(pe.a)(Object(ze.a)(": "),n).join("<br />")}return null},pa=function(e){var t=e.nodeRoot,a=e.tooltip,n=e.fields;a.style("display","block").style("position","absolute").style("transform",null).style("top","0px").style("left","0px");var r=a.node().getBoundingClientRect(),o=5-r.left,i=5-r.top;a.style("display","none"),t.on("mousemove",function(){var e=ft.b;da(e,n,i,o,a)})},fa=a(299),ha=a(258),ma=a(301),ga=a(290),ba=a(267),va=a(265),Oa=a(289),ya=a(98),ja=a(11),Ea=["#a6cee3","#3366cc","#b2df8a","#33a02c","#fb9a99","#996699","#fdbf6f","#ff7f00","#cc99ff","#6a3d9a","#ffff99","#b15928","#ffcc99","#333399"],_a=function(e,t){var a=Math.floor(t/e.length);if(0===a)return e;var n=Object(Oa.a)(function(t){var n=(t+e.length)/e.length,r=Object(ja.c)(e[t%e.length]),o=Object(ja.c)(e[(t+1)%e.length]),i=Object(ya.a)().domain([0,a]).range([r.h,o.h]),s=Object(ya.b)().exponent(5).domain([0,a]).range([r.c,100]),c=Object(ya.b)().exponent(2).domain([0,a]).range([r.l,r.l/2]),l=i(n),d=s(n),u=c(n);return Object(ja.c)(l,d,u).toString()},t-e.length);return Object(Rt.a)(e,n)};var Ca=function(e){var t=e.legend,a=e.colorMap,n=e.toggleValue,r=t.selectAll("p.viz-legendItem").data(Object(va.a)(a),function(e){return Object(pt.a)(e,1)[0]});r.exit().remove();var o=r.enter().append("p").classed("viz-legendItem",!0);o.append("span").classed("viz-legendColor",!0),o.append("span").classed("viz-legendLabel",!0),r.merge(o).classed("viz-legendDisabled",function(e){return e[1].disabled}),r.merge(o).select(".viz-legendColor").style("background-color",function(e){var t=Object(pt.a)(e,2);t[0];return t[1].color}),r.merge(o).select(".viz-legendLabel").attr("title",function(e){return Object(pt.a)(e,1)[0]}).text(function(e){return Object(pt.a)(e,1)[0]}),t.on("click.toggle",function(){var e=Object(ft.f)(ft.b.target).datum();e&&n(e[0])})},Sa=function(e){var t=Object(ft.g)("style#coloring").data([e]),a=t.enter().append("style").attr("id","coloring"),n=e.map(function(e,t){var a=Object(pt.a)(e,2),n=(a[0],a[1]),r=n.color,o=n.className;return"\n      .viz-node circle.".concat(o," {\n        fill: ").concat(r," !important\n      }\n    ")}).join("\n");t.merge(a).html(n)},wa=function(e){var t=e.nodes,a=e.colorMap,n=e.getValue,r=e.coloredField,o=e.isColoringGroup;t.filter(function(e){return 0===e.height}).select("circle").attr("class",function(e){var t=a[n(e.data)]||{},r=t.disabled,i=t.className;return o||r||!i?null:i}),t.filter(function(e){return e.height>0}).classed("viz-coloredNode",function(e){return!(a[n(e.data)]||{}).disabled&&Object(ee.a)(e.data.field,r)}).select("circle").attr("class",function(e){var t=a[n(e.data)]||{},i=t.disabled,s=t.className;return o&&Object(ee.a)(e.data.field,r)&&!i&&s})},Da=function(e){var t=e.annotations,a=e.colorMap,n=e.getValue,r=e.coloredField,o=e.isColoringGroup;t&&t.select("g.".concat(aa("total-container"))).attr("class",function(e){var t=a[n(e.data)]||{},i=t.disabled,s=t.className;return console.log(s),o&&Object(ee.a)(e.data.field,r)&&!i&&s})},Aa=function(e){var t=e.legend,a=e.data,n=e.hierarchyConfig,r=e.coloredField;if(e.legendConfig,!r){t.style("display","none");var o={nodes:[],annotations:[]};return{update:function(e){var t=e.nodes;e.annotations,o.nodes=t,t.classed("viz-coloredNode",r),r||t.select("circle").attr("class",null)}}}t.style("display",null);var i=Object(fa.a)(Object($.a)(r.path),Object($.a)(["fieldValue"])),s=Object(ue.a)(r,n),c=Object(ha.a)(Object(pe.a)(i),ma.a,Object(le.a)(K.a))(a),l=_a(Ea,c.length).map(function(e,t){return{color:e,disabled:!1,className:"legend-color-".concat(t)}}),d=Object(ga.a)(c,l),u=Object(ba.a)(d);Sa(d);var p={nodes:[]};function f(e){var a=e.nodes,n=e.annotations;p.nodes=a,a.classed("viz-coloredNode",r),r?(wa({nodes:a,colorMap:u,getValue:i,coloredField:r,isColoringGroup:s}),Da({annotations:n,colorMap:u,getValue:i,coloredField:r,isColoringGroup:s}),Ca({legend:t,colorMap:u,toggleValue:h})):a.select("circle").attr("class",null)}function h(e){u[e].disabled=!u[e].disabled,f({nodes:p.nodes})}return{update:f,colorMap:u}},Na=a(169),Ia=function(e){var t=e.packedData,a=e.annotationRoot,n=t.descendants().filter(function(e){return e.depth>0&&e.height>0&&e.data.CRVIZ&&e.data.CRVIZ._addedCount+e.data.CRVIZ._changedCount+e.data.CRVIZ._removedCount>0}),r=t.descendants().filter(function(e){return 0===e.height})[0].r||0,o=2*r/16*100,i=a.selectAll("g.".concat(aa("annotation"))).data(n,ta);i.exit().remove();var s=i.enter().append("g").classed(aa("annotation"),!0),c=Math.PI/180*-60;s.merge(i).attr("data-key",ta).attr("transform",function(e){return"translate(".concat([e.x,e.y].join(","),")")}).order();var l=s.append("g").classed(aa("change-icon-container"),!0).append("text").classed("svg-icon",!0).style("font-size",function(e){return o+"%"}).text("\uf005");i.select("g.".concat(aa("change-icon-container"))).select("text.svg-icon").merge(l).attr("x",function(e){return e.r*Math.cos(c)}).attr("y",function(e){return e.r*Math.sin(c)}).on("click",function(e){var t=Object(Na.a)("g.".concat(aa("annotation"),'[data-key="').concat(ta(e),'"]'));t.select("g.".concat(aa("change-icon-container"))).classed(aa("annotation-hidden"),!0),t.select("g.".concat(aa("ring-menu"))).classed(aa("annotation-hidden"),!1)});var d=s.append("g").classed(aa("ring-menu"),!0).classed(aa("annotation-hidden"),!0),u=d.append("circle").classed("bg-circle",!0).style("fill","white").attr("r",6*r);i.select("g.".concat(aa("ring-menu"))).select("circle").merge(u).attr("cx",function(e){return e.r*Math.cos(c)}).attr("cy",function(e){return e.r*Math.sin(c)});var p=d.append("text").classed("svg-icon",!0).text("\uf00d");i.select("g.".concat(aa("ring-menu"))).select("text.svg-icon").merge(p).attr("x",function(e){return e.r*Math.cos(c)}).attr("y",function(e){return e.r*Math.sin(c)}).style("font-size",function(e){return o+"%"}).on("click",function(e){var t=Object(Na.a)("g.".concat(aa("annotation"),'[data-key="').concat(ta(e),'"]'));t.select("g.".concat(aa("change-icon-container"))).classed(aa("annotation-hidden"),!1),t.select("g.".concat(aa("ring-menu"))).classed(aa("annotation-hidden"),!0)});var f=d.append("g").classed(aa("total-container"),!0),h=f.append("g").classed(aa("leafNode"),!0).append("circle").attr("r",r);i.select("g.".concat(aa("total-container"))).select("g.".concat(aa("leafNode"))).select("circle").merge(h).attr("cx",function(e){return e.r*Math.cos(c)-2*r}).attr("cy",function(e){return e.r*Math.sin(c)-3*r});var m=f.append("text").classed(aa("annotation-text"),!0);i.select("g.".concat(aa("total-container"))).select("text").merge(m).style("font-size",function(e){return o+"%"}).attr("x",function(e){return e.r*Math.cos(c)+1.5*r}).attr("y",function(e){return e.r*Math.sin(c)-3*r}).text(function(e){return isNaN(e.value)?": 0":": "+e.value});var g=d.append("g").classed(aa("added-container"),!0),b=g.append("g").classed(aa("isAdded-fixed"),!0).append("circle").attr("r",r);i.select("g.".concat(aa("added-container"))).select("g.".concat(aa("isAdded-fixed"))).select("circle").merge(b).attr("cx",function(e){return e.r*Math.cos(c)-4.5*r}).attr("cy",function(e){return e.r*Math.sin(c)});var v=g.append("text").classed(aa("annotation-text"),!0);i.select("g.".concat(aa("added-container"))).select("text").merge(v).style("font-size",function(e){return o+"%"}).attr("x",function(e){return e.r*Math.cos(c)-2.5*r}).attr("y",function(e){return e.r*Math.sin(c)}).text(function(e){return isNaN(e.data.CRVIZ._addedCount)?": 0":": "+e.data.CRVIZ._addedCount});var O=d.append("g").classed(aa("changed-container"),!0),y=O.append("g").classed(aa("isChanged-fixed"),!0).append("circle").attr("r",r);i.select("g.".concat(aa("changed-container"))).select("g.".concat(aa("isChanged-fixed"))).select("circle").merge(y).attr("cx",function(e){return e.r*Math.cos(c)-1*r}).attr("cy",function(e){return e.r*Math.sin(c)+3*r});var j=O.append("text").classed(aa("annotation-text"),!0);i.select("g.".concat(aa("changed-container"))).select("text").merge(j).style("font-size",function(e){return o+"%"}).attr("x",function(e){return e.r*Math.cos(c)+1.5*r}).attr("y",function(e){return e.r*Math.sin(c)+3*r}).text(function(e){return isNaN(e.data.CRVIZ._changedCount)?": 0":": "+e.data.CRVIZ._changedCount});var E=d.append("g").classed(aa("removed-container"),!0),_=E.append("g").classed(aa("isRemoved-fixed"),!0).append("circle").attr("r",r);i.select("g.".concat(aa("removed-container"))).select("g.".concat(aa("isRemoved-fixed"))).select("circle").merge(_).attr("cx",function(e){return e.r*Math.cos(c)+2.5*r}).attr("cy",function(e){return e.r*Math.sin(c)});var C=E.append("text").classed(aa("annotation-text"),!0);return i.select("g.".concat(aa("removed-container"))).select("text").merge(C).style("font-size",function(e){return o+"%"}).attr("x",function(e){return e.r*Math.cos(c)+4.5*r}).attr("y",function(e){return e.r*Math.sin(c)}).text(function(e){return isNaN(e.data.CRVIZ._removedCount)?": 0":": "+e.data.CRVIZ._removedCount}),i.merge(s)};var Ra=function(e,t,a){return Object(bt.a)(Object(pe.a)(vt.a,e))(t,a)},xa=function(e,t){return ea(e,t).count().sort(Fa([function(e,t){return"Unknown"===e.data.fieldValue?"Unknown"===t.data.fieldValue?0:1:"Unknown"===t.data.fieldValue?-1:0},function(e,t){return(t.value||0)-(e.value||0)},function(e,t){return(e.data.fieldValue||"").localeCompare(t.data.fieldValue||"")}]))},Fa=function(e){return function(t,a){return Object(Ot.a)(function(e){return 0===e},function(e,n){return n(t,a)},0,e)}},ka=function(e,t){var a=Object(yt.a)(e.ancestors());return Object(jt.a)(function(e,t){return function(e,t){return Object(G.a)(Object(Q.a)(ta,t),e.children||[])}(e,t)||Object(Et.a)(e)},t,Object(_t.a)(a))},Ta=function(e){var t=Object(ft.f)(e),a=t.append("div").attr("data-node","zoomRoot").style("position","relative").style("width","100%").style("height","100%");t.style("position","relative");var n=a.append("div").attr("data-node","transformRoot").style("position","absolute").style("top",0).style("left",0).style("width","100%").style("height","100%").style("transform-origin","top left"),r=a.append("svg").style("position","absolute").style("pointer-events","none").style("top",0).style("left",0).style("width","100%").style("height","100%"),o=n.append("svg").style("overflow","visible").attr("class","nodeRoot"),i=t.append("div").classed("viz-tooltip",!0),s=t.append("div").classed("viz-legend",!0),c=o.append("g"),l=o.append("g").attr("class","annotation-root"),d={hierarchyConfig:null,data:null,fields:null,width:e.clientWidth,height:e.clientHeight,showNodes:!0,coloredField:null,queryString:""},u={packedData:null,nodes:null,annotations:null,labels:null,countLabels:null,zoom:null,selectedNode:null,legend:null};function p(t){t=Object(fe.a)({},t,{width:e.clientWidth,height:e.clientHeight,hasSearch:t.hasSearch});var a=!Ra(["hierarchyConfig","data","fields","queryString"],d,t),n=!Ra(["width","height"],d,t),r=!Ra(["coloredField","hierarchyConfig","data"],d,t);d=t,a&&(f(d,u),b(d,u)),h(d,u),r?m(d,u):u.legend&&u.legend.update({nodes:u.nodes}),(n||a)&&g(d,u)}new ht.ResizeSensor(e,gt()(function(){return p(d)},100));var f=function(e,t){var a=xa(e.data,e.hierarchyConfig),n=Pt().size([e.width,e.height]),r=n(a).leaves()[0].r;n.padding(function(e){return r*e.height}),t.packedData=n(a)},h=function(e,t){var a=na({nodeRoot:c,labelRoot:r,packedData:t.packedData,showNodes:e.showNodes,hasSearch:""!==e.queryString}),n=Object(pt.a)(a,1)[0];pa({tooltip:i,fields:e.fields,nodeRoot:c}),t.nodes=n},m=function(e,t){t.legend=Aa({legend:s,hierarchyConfig:e.hierarchyConfig,data:e.data,coloredField:e.coloredField}),null!=t.legend&&t.legend.update({nodes:t.nodes,annotations:t.annotations})},g=function(e,t){t.zoom=la({zoomRoot:a,transformRoot:n,nodes:t.nodes,width:e.width,height:e.height,packedData:t.packedData});var r=!0;if(t.selectedNode){var o=ka(t.selectedNode,t.packedData);t.selectedNode=o,r=!1}else t.selectedNode=t.packedData;t.zoom.zoomTo(t.selectedNode,r),c.on("click.select",function(){var e=Object(ft.f)(ft.b.target).datum(),a=e;0===e.height&&e.parent&&(a=e.parent),t.selectedNode=e,t.zoom.zoomTo(a)})},b=function(e,t){t.annotations=Ia({packedData:t.packedData,annotationRoot:l})};return{update:p}},Ua=a(190),Ma=a.n(Ua),Va=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=i.a.findDOMNode(this);this.viz=Ta(e),this.updateFromProps()}},{key:"updateFromProps",value:function(){this.viz.update({hierarchyConfig:this.props.controls.hierarchyConfig,fields:this.props.configuration.fields||[],showNodes:this.props.controls.shouldShowNodes,coloredField:this.props.controls.colorBy,data:this.props.dataset||[],queryString:this.props.queryString})}},{key:"componentDidUpdate",value:function(){this.updateFromProps()}},{key:"render",value:function(){return r.a.createElement("div",{className:Ma.a.viz})}}]),t}(r.a.PureComponent),Ha=Object(s.b)(function(e,t){return{dataset:Object(j.l)(e,t.startUid,t.endUid),configuration:Object(j.n)(e),controls:Object(E.c)(e),queryString:Object(C.c)(e)}},null)(Va),Za=a(135),La=a(294),za=a(295),Pa=Object(S.a)("START_REFRESH_DATASET"),Ba=Object(S.a)("STOP_REFRESH_DATASET"),Ga=function(e,t){return e.pipe(Object(Ie.a)(Pa.toString()),Object(N.a)(500),Object(A.a)(function(t){var a=t.payload.owner,n=t.payload.url,r=t.payload.header,o=1e3*t.payload.interval;return Object(La.a)(0,o).pipe(Object(A.a)(function(){return Object(w.a)(Object(j.u)({owner:a,isFetching:!0}),Object(Za.c)({owner:a,url:n,header:r}))}),Object(za.a)(e.ofType(Ba.toString())))}))};var Ka=Object(Ge.a)("url"),qa=function(e){var t=e.className,a=e.selected,n=e.datasets,o=e.onChange;return r.a.createElement("div",{className:t},r.a.createElement("label",{className:"select"},r.a.createElement("select",{onChange:function(e){return o(Object(G.a)(Ka(e.target.value),n))},value:Object(v.a)(a)?"":a.url},r.a.createElement("option",{value:""},"\u2014None\u2014"),n.map(function(e){return r.a.createElement("option",{key:e.url,value:e.url},e.name)}))))};var Wa=function(e){var t=e.className,a=e.selected,n=e.onChange,o="file-input-"+e.ownerUuid;return r.a.createElement("span",{className:t},r.a.createElement("input",{type:"file",id:o,value:"",style:{display:"none"},onChange:function(e){return n(e.target.files[0])}}),r.a.createElement("span",null,Object(v.a)(a)?"No file selected":a),r.a.createElement("label",{htmlFor:o,className:"button circular",title:"Upload data from file"},r.a.createElement(O.a,{icon:y.t})))};var Ya=function(e){var t=e.className,a=e.selected,n=e.url,o=e.disabled;return r.a.createElement("span",{className:t},r.a.createElement("a",{className:"button circular",href:n,download:a+".json",title:"Download",disabled:o},r.a.createElement(O.a,{icon:y.f})))};var Xa=function(e){var t=e.className,a=e.onClick,n=e.disabled;return r.a.createElement("span",{className:t},r.a.createElement("div",{className:"button circular",disabled:n,title:"Refresh",onClick:function(){return a()}},r.a.createElement(O.a,{icon:y.m})))};var Ja=function(e){var t=e.className,a=e.interval,n=e.timerIsRunning,o=e.disabled,i=e.onIntervalChange,s=e.onStartClick,c=e.onStopClick;return r.a.createElement("span",{className:t},r.a.createElement("input",{type:"text",title:"Refresh interval in seconds",value:a,onChange:function(e){return i(e.target.value)}}),!n&&r.a.createElement("div",{className:"button circular",disabled:o,title:"Start Refresh Timer",onClick:function(){return s()}},r.a.createElement(O.a,{icon:y.p})),n&&r.a.createElement("div",{className:"button circular",disabled:o,title:"Stop Refresh Timer",onClick:function(){return c()}},r.a.createElement(O.a,{icon:y.o})))},Qa=a(191),$a=a.n(Qa),en=function(e,t,a,n){var r={};return e&&(r.datasets=tn(e)),t&&(r.keyFields=t),a&&(r.ignoredFields=a),n&&(r.controls=n),r},tn=function(e){var t=$a()(e);return Object.keys(t).forEach(function(e){t[e].dataset.forEach(function(e){delete e.CRVIZ})}),t},an=a(133),nn=a.n(an),rn=a(184),on={name:"Custom URL",url:"custom-url"},sn=[{name:"-None-",scheme:"None"},{name:"Username\\Password",scheme:"Basic"},{name:"Token",scheme:"Bearer"}],cn=window.location.host,ln=window.location.hostname,dn="80";cn.indexOf(":")>-1&&(dn=String(parseInt(cn.split(":")[1],10)-1));var un={name:"Poseidon Network",url:"http://"+ln+":"+dn+"/v1/network"};b.a.setAppElement("#root");var pn=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).resetDataset=function(){a.props.setDataset({dataset:[],configuration:{}}),a.setState({selected:null,selectedFile:null})},a.fetchAndSetDataset=function(e,t,n,r,o){a.props.setIsFetching({owner:a.props.uuid,isFetching:!0});var i=Object(Za.a)(n,r,o);fn(e)?(a.props.fetchDataset({owner:a.props.uuid,url:e,header:i}),a.setState({selected:t,selectedFile:null})):a.props.setError(new Error("Please enter a valid URL."))},a.onSelected=function(e){if(Object(v.a)(e))return a.resetDataset();a.props.removeDataset({owner:a.props.uuid}),a.props.removeSearchIndex({owner:a.props.uuid}),a.props.stopRefresh();var t=e===on;if(a.setState({showUrlEntry:t,url:"",authScheme:null,token:"",username:"",password:"",refreshInterval:0,refreshTimerRunning:!1}),!t){var n=e.url;a.fetchAndSetDataset(n,e,null,null,null)}},a.onUpload=function(e){a.props.uploadDataset({owner:a.props.uuid,file:e,includeData:!0,includeControls:!1}),a.props.stopRefresh(),a.setState({selected:null,selectedFile:e.name,refreshInterval:0,refreshTimerRunning:!1})},a.onUrlChange=function(e){a.setState({url:e.target.value})},a.onTokenChange=function(e){a.setState({token:e.target.value})},a.onUsernameChange=function(e){a.setState({username:e.target.value})},a.onPasswordChange=function(e){a.setState({password:e.target.value})},a.onUrlOk=function(){a.setState({showUrlEntry:!1});var e=on;if(!Object(v.a)(a.state.url)){var t=a.state.url;e.url=t,a.fetchAndSetDataset(t,e,a.state.username,a.state.password,a.state.token)}},a.onUrlCancel=function(){a.setState({showUrlEntry:!1,url:"",authScheme:"",token:"",username:"",password:""})},a.getDownloadUrl=function(){var e=a.props.fullDatasets,t=a.props.controls,n=a.props.keyFields,r=a.props.ignoredFields,o=window.URL||window.webkitURL||window,i=JSON.stringify(en(e,n,r,t)),s=new Blob([i],{type:"application/json"});return o.createObjectURL(s)},a.onRefresh=function(){var e=a.state.selected.url,t=a.state.selected;a.fetchAndSetDataset(e,t,a.state.username,a.state.password,a.state.token)},a.onTimedRefreshStart=function(){a.props.setIsFetching({owner:a.props.uuid,isFetching:!0}),a.setState({refreshTimerRunning:!0});var e=Object(Za.a)(a.state.username,a.state.password,a.state.token),t=a.state.selected.url,n=a.state.refreshInterval;a.props.startRefresh({owner:a.props.uuid,url:t,header:e,interval:n})},a.onTimedRefreshStop=function(){a.setState({refreshTimerRunning:!1}),a.props.stopRefresh()},a.onTimedRefreshIntervalChanged=function(e){var t=parseInt(e,10);isNaN(t)?e||a.setState({refreshInterval:null}):a.setState({refreshInterval:t})},a.state={dataset:null,selected:null,selectedFile:null,showUrlEntry:!1,url:"",authScheme:"",token:"",username:"",password:"",refreshInterval:0,refreshTimerRunning:!1},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;"80"===dn&&(un={name:"",url:""});var t=this.state.selected&&!this.state.selectedFile,a=this.state.selected&&!Object(v.a)(this.state.selected.url);return r.a.createElement("div",{className:nn.a.dataControls},r.a.createElement("div",{className:nn.a.selectorContainer},r.a.createElement("span",{className:nn.a.label},"Dataset"),r.a.createElement(qa,{className:nn.a.selector,selected:this.state.selected,onChange:this.onSelected,datasets:[].concat(Object($e.a)(this.props.datasets),[un,on])})),r.a.createElement("div",{className:nn.a.uploadContainer},r.a.createElement("span",{className:nn.a.label},"Upload"),r.a.createElement(Wa,{ownerUuid:this.props.uuid,className:nn.a.fileUpload,selected:this.state.selectedFile,onChange:this.onUpload})),r.a.createElement("div",{className:nn.a.utilityContainer},t&&r.a.createElement(Ya,{className:nn.a.fileDownload,selected:this.state.selected.name,url:this.getDownloadUrl(),disabled:this.props.isFetching}),a&&r.a.createElement("div",{className:nn.a.urlRefreshContainer},r.a.createElement(Xa,{className:nn.a.urlRefresh,onClick:this.onRefresh,disabled:this.props.isFetching}),r.a.createElement(Ja,{className:nn.a.urlRefresh,interval:this.state.refreshInterval,timerIsRunning:this.state.refreshTimerRunning,disabled:this.props.isFetching,onIntervalChange:this.onTimedRefreshIntervalChanged,onStartClick:this.onTimedRefreshStart,onStopClick:this.onTimedRefreshStop}))),r.a.createElement("div",{className:nn.a.urlRefreshTime},a&&this.props.isFetching&&r.a.createElement("span",null,r.a.createElement(O.a,{className:"fa-spin",icon:y.d})," Fetching Data..."),a&&!this.props.isFetching&&r.a.createElement("span",null,"Last Updated: ",this.props.lastUpdated?(this.props.lastUpdated.toLocaleDateString()||"")+" "+(this.props.lastUpdated.toLocaleTimeString()||""):"Never")),r.a.createElement(b.a,{isOpen:this.state.showUrlEntry,onRequestClose:this.onUrlCancel,contentLabel:"Enter a Url"},r.a.createElement("div",{className:nn.a.modal},r.a.createElement("div",{className:nn.a.modalMain},r.a.createElement("span",null,r.a.createElement("label",null," URL "),r.a.createElement("input",{type:"text",value:this.state.url,onChange:this.onUrlChange})),r.a.createElement("span",null,r.a.createElement("label",null," AuthType "),r.a.createElement("select",{onChange:function(t){return e.setState({authScheme:t.target.value})},value:Object(v.a)(this.state.authScheme)?"":this.state.authScheme},sn.map(function(e){return r.a.createElement("option",{key:e.scheme,value:e.scheme},e.name)}))),"Bearer"===this.state.authScheme&&r.a.createElement("span",null,r.a.createElement("label",null," Token "),r.a.createElement("input",{type:"text",value:this.state.Token,onChange:this.onTokenChange})),"Basic"===this.state.authScheme&&r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("label",null," Username "),r.a.createElement("input",{type:"text",value:this.state.userName,onChange:this.onUsernameChange})),r.a.createElement("span",null,r.a.createElement("label",null," Password "),r.a.createElement("input",{type:"password",value:this.state.password,onChange:this.onPasswordChange}))),r.a.createElement("div",null,r.a.createElement("span",{className:nn.a.centerSpan},r.a.createElement("div",{className:"button circular",title:"Ok",onClick:this.onUrlOk},r.a.createElement(O.a,{icon:y.c})),r.a.createElement("div",{className:"button circular",title:"Cancel",onClick:this.onUrlCancel},r.a.createElement(O.a,{icon:y.q}))))))))}}]),t}(r.a.Component),fn=function(e){try{return new URL(e)}catch(t){if(t instanceof TypeError)return null;throw t}};pn.defaultProps={uuid:rn(),datasets:[],dataset:null,hierarchyConfig:[],configHasChanged:!1,isFetching:!1,lastUpdated:new Date};var hn,mn={fetchDataset:Za.c,uploadDataset:F,setDataset:j.p,selectDataset:j.k,removeDataset:j.i,removeSearchIndex:C.f,getIsFetching:j.f,setIsFetching:j.u,showNodes:E.h,setHierarchyConfig:E.f,colorBy:E.a,startRefresh:Pa,stopRefresh:Ba,setError:_.d},gn=Object(s.b)(function(e,t){var a=t.uuid;return{dataset:Object(j.k)(e,a),isFetching:Object(j.f)(e,a),lastUpdated:Object(j.h)(e,a),fullDatasets:Object(j.m)(e),controls:Object(E.c)(e),keyFields:Object(j.g)(e),ignoredFields:Object(j.e)(e)}},mn)(pn),bn=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={start:null,end:null,labelMode:"long"},a.onDragEnter=function(e){e.preventDefault(),console.log("dragEnter")},a.onDragOver=function(e){e.preventDefault(),console.log("dragover")},a.onDragStart=function(e){var t=e.target.dataset.slider;a.sliderType=t,console.log("drag start complete")},a.onDrag=function(e){console.log("drag complete")},a.onDrop=function(e,t){console.log("drop e target: %o",e.target);var n=a.sliderType,r=Number(e.target.dataset.slot);if(!isNaN(r)){if("min"===n){if(r>=a.state.end)return;a.setState({start:r})}else if("max"===n){if(r<=a.state.start)return;a.setState({end:r})}a.sliderType=null}},a.MinSlider=function(){var e;return r.a.createElement("div",{"data-slider":"min",onDragStart:function(e){return a.onDragStart(e)},onTouchStart:function(e){return a.onDragStart(e)},onDrag:a.onDrag,draggable:!0,className:m()((e={},Object(c.a)(e,nn.a.sliderThumb,!0),Object(c.a)(e,nn.a.sliderThumbMin,!0),e))})},a.MaxSlider=function(){var e;return r.a.createElement("div",{"data-slider":"max",onDragStart:a.onDragStart,onTouchStart:a.onDragStart,onDrag:a.onDrag,draggable:!0,className:m()((e={},Object(c.a)(e,nn.a.sliderThumb,!0),Object(c.a)(e,nn.a.sliderThumbMax,!0),e))})},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){for(var e=this,t=this.props.points,a=this.props.startUuid,n=this.props.endUuid,o=[],i=[],s=[],l=null,d=null,u=function(u){var p,f="s"+u;o.push(r.a.createElement("div",{key:t[u],className:nn.a.slotScale},f));var h="";t[u]===a?(h="Start",l=r.a.createElement(e.MinSlider,null),d=null):t[u]===n?(h="End",l=null,d=r.a.createElement(e.MaxSlider,null)):(l=null,d=null),s.push(r.a.createElement("div",{key:t[u],className:nn.a.slotScale},h));var g=null!==a&&null!==n&&u>t.indexOf(a)&&u<t.indexOf(n);i.push(r.a.createElement("div",{"data-slot":u,onDragOver:function(e){e.preventDefault()},onDragEnter:function(t){e.onDragEnter(t)},onTouchMove:e.onDragOver,onTouchEnd:e.onDrop,onDrop:function(t){return e.onDrop(t,u)},key:t[u],className:nn.a.slot},r.a.createElement("div",{"data-slot":u,className:m()((p={},Object(c.a)(p,nn.a.line,!0),Object(c.a)(p,nn.a.lineSelected,g),p))}),r.a.createElement("span",{className:nn.a.scaleMark}),l,d))},p=0;p<=t.length-1;p++)u(p);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:nn.a.sliderContainer},r.a.createElement("div",{className:nn.a.sliderScale},o),r.a.createElement("div",{className:nn.a.slider},i),r.a.createElement("div",{className:nn.a.sliderSelectedScale},s))))}}]),t}(r.a.Component);!function(e){var t=function(){function e(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(e.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(e){this._dropEffect=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(e){this._effectAllowed=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),e.prototype.clearData=function(e){null!=e?delete this._data[e]:this._data=null},e.prototype.getData=function(e){return this._data[e]||""},e.prototype.setData=function(e,t){this._data[e]=t},e.prototype.setDragImage=function(e,t,n){var r=a._instance;r._imgCustom=e,r._imgOffset={x:t,y:n}},e}();e.DataTransfer=t;var a=function(){function e(){if(this._lastClick=0,e._instance)throw Error("DragDropTouch instance already created.");var t=!1;if(document.addEventListener("test",function(){},{get passive(){return t=!0,!0}}),"ontouchstart"in document){var a=document,n=this._touchstart.bind(this),r=this._touchmove.bind(this),o=this._touchend.bind(this),i=!!t&&{passive:!1,capture:!1};a.addEventListener("touchstart",n,i),a.addEventListener("touchmove",r,i),a.addEventListener("touchend",o),a.addEventListener("touchcancel",o)}}return e.getInstance=function(){return e._instance},e.prototype._touchstart=function(t){var a=this;if(this._shouldHandle(t)){if(Date.now()-this._lastClick<e._DBLCLICK&&this._dispatchEvent(t,"dblclick",t.target))return t.preventDefault(),void this._reset();this._reset();var n=this._closestDraggable(t.target);n&&(this._dispatchEvent(t,"mousemove",t.target)||this._dispatchEvent(t,"mousedown",t.target)||(this._dragSource=n,this._ptDown=this._getPoint(t),this._lastTouch=t,t.preventDefault(),setTimeout(function(){a._dragSource===n&&null===a._img&&a._dispatchEvent(t,"contextmenu",n)&&a._reset()},e._CTXMENU)))}},e.prototype._touchmove=function(t){if(this._shouldHandle(t)){var a=this._getTarget(t);if(this._dispatchEvent(t,"mousemove",a))return this._lastTouch=t,void t.preventDefault();if(this._dragSource&&!this._img)this._getDelta(t)>e._THRESHOLD&&(this._dispatchEvent(t,"dragstart",this._dragSource),this._createImage(t),this._dispatchEvent(t,"dragenter",a));this._img&&(this._lastTouch=t,t.preventDefault(),a!==this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(t,"dragenter",a),this._lastTarget=a),this._moveImage(t),this._dispatchEvent(t,"dragover",a))}},e.prototype._touchend=function(e){if(this._shouldHandle(e)){if(this._dispatchEvent(this._lastTouch,"mouseup",e.target))return void e.preventDefault();this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",e.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource&&(e.type.indexOf("cancel")<0&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}},e.prototype._shouldHandle=function(e){return e&&!e.defaultPrevented&&e.touches&&e.touches.length<2},e.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._dataTransfer=new t},e.prototype._getPoint=function(e,t){return e&&e.touches&&(e=e.touches[0]),{x:t?e.pageX:e.clientX,y:t?e.pageY:e.clientY}},e.prototype._getDelta=function(e){var t=this._getPoint(e);return Math.abs(t.x-this._ptDown.x)+Math.abs(t.y-this._ptDown.y)},e.prototype._getTarget=function(e){for(var t=this._getPoint(e),a=document.elementFromPoint(t.x,t.y);a&&"none"===getComputedStyle(a).pointerEvents;)a=a.parentElement;return a},e.prototype._createImage=function(t){this._img&&this._destroyImage();var a=this._imgCustom||this._dragSource;if(this._img=a.cloneNode(!0),this._copyStyle(a,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var n=a.getBoundingClientRect(),r=this._getPoint(t);this._imgOffset={x:r.x-n.left,y:r.y-n.top},this._img.style.opacity=e._OPACITY.toString()}this._moveImage(t),document.body.appendChild(this._img)},e.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},e.prototype._moveImage=function(e){var t=this;requestAnimationFrame(function(){if(t._img){var a=t._getPoint(e,!0),n=t._img.style;n.position="absolute",n.pointerEvents="none",n.zIndex="999999",n.left=Math.round(a.x-t._imgOffset.x)+"px",n.top=Math.round(a.y-t._imgOffset.y)+"px"}})},e.prototype._copyProps=function(e,t,a){for(var n=0;n<a.length;n++){var r=a[n];e[r]=t[r]}},e.prototype._copyStyle=function(t,a){if(e._rmvAtts.forEach(function(e){a.removeAttribute(e)}),t instanceof HTMLCanvasElement){var n=t,r=a;r.width=n.width,r.height=n.height,r.getContext("2d").drawImage(n,0,0)}for(var o=getComputedStyle(t),i=0;i<o.length;i++){var s=o[i];s.indexOf("transition")<0&&(a.style[s]=o[s])}a.style.pointerEvents="none";for(var c=0;c<t.children.length;c++)this._copyStyle(t.children[c],a.children[c])},e.prototype._dispatchEvent=function(t,a,n){if(t&&n){var r=document.createEvent("Event"),o=t.touches?t.touches[0]:t;return r.initEvent(a,!0,!0),r.button=0,r.which=r.buttons=1,this._copyProps(r,t,e._kbdProps),this._copyProps(r,o,e._ptProps),r.dataTransfer=this._dataTransfer,n.dispatchEvent(r),r.defaultPrevented}return!1},e.prototype._closestDraggable=function(e){for(;e;e=e.parentElement)if(e.hasAttribute("draggable")&&e.draggable)return e;return null},e}();a._instance=new a,a._THRESHOLD=5,a._OPACITY=.5,a._DBLCLICK=500,a._CTXMENU=900,a._rmvAtts="id,class,style,draggable".split(","),a._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),a._ptProps="pageX,pageY,clientX,clientY,screenX,screenY".split(","),e.DragDropTouch=a}(hn||(hn={}));var vn=Object(s.b)(null,null)(bn),On=a(132),yn=a.n(On),jn=a(192),En=a(184);b.a.setAppElement("#root");var _n="import",Cn="export",Sn={action:"",data:!0,controls:!0},wn=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showData:!0,showGrouping:!1,showFiltering:!1,uuids:[En()],datasetAdded:!1,startUuid:null,endUuid:null,showOptions:!1,options:{action:"",data:!0,controls:!0},selectedFile:null,exportName:"dataset.json"},a.componentWillReceiveProps=function(e){var t=a.state.datasetAdded&&e.uuids.length!==a.state.uuids.length,n=t||0===e.uuids.length?Array.from(new Set(e.uuids.concat(a.state.uuids))):e.uuids,r=e.startUuid||a.state.startUuid||n[0],o=e.endUuid||a.state.endUuid;a.setState({uuids:n,startUuid:r,endUuid:o,datasetAdded:t})},a.toggleShowData=function(){a.setState({showData:!a.state.showData,showComparison:!1,showGrouping:!1,showFiltering:!1})},a.toggleShowComparison=function(){a.setState({showData:!1,showComparison:!a.state.showComparison,showGrouping:!1,showFiltering:!1})},a.toggleShowGrouping=function(){a.setState({showData:!1,showComparison:!1,showGrouping:!a.state.showGrouping,showFiltering:!1})},a.toggleShowFiltering=function(){a.setState({showData:!1,showComparison:!1,showGrouping:!1,showFiltering:!a.state.showFiltering})},a.onErrorClose=function(){a.props.clearError()},a.resetControls=function(){a.props.colorBy(null),a.props.setHierarchyConfig([]),a.props.showNodes(!0)},a.showImportOptions=function(){a.showOptions(_n)},a.showExportOptions=function(){a.showOptions(Cn)},a.showOptions=function(e){a.setOptions("action",e),a.setState({showOptions:!0})},a.processOptions=function(){a.state.options.action===_n&&(a.props.uploadDataset({owner:En(),file:a.state.selectedFile,includeData:a.state.options.data,includeControls:a.state.options.controls}),a.setState({showOptions:!1}))},a.onUpload=function(e){a.setState({selectedFile:e})},a.getDownloadUrl=function(){var e=a.state.options.data&&a.props.fullDatasets,t=a.state.options.controls&&a.props.controls,n=a.state.options.data&&a.props.keyFields,r=a.state.options.data&&a.props.ignoredFields,o=en(e,n,r,t),i=window.URL||window.webkitURL||window,s=JSON.stringify(o),c=new Blob([s],{type:"application/json"});return i.createObjectURL(c)},a.exportNameChange=function(e){a.setState({exportName:e})},a.cancelOptions=function(){a.setState({showOptions:!1,options:Sn})},a.setOptions=function(e,t){var n=a.state.options;n[e]=t,a.setState({options:n})},a.addDatasetEntry=function(){var e=a.state.uuids,t=En();e.push(t),a.setState({uuids:e,datasetAdded:!0})},a.removeDatasetEntry=function(e){var t=a.state.uuids;if(t.includes(e)){var n=t.splice(t.indexOf(e),1);a.setState({uuids:n})}a.props.removeSearchIndex({owner:e}),a.props.removeDataset({owner:e})},a.setStartUuid=function(e){a.setState({startUuid:e}),a.props.setStartDataset(e)},a.setEndUuid=function(e){a.setState({endUuid:e}),a.props.setEndDataset(e)},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t,a,n,o,i,s,l,d=this,u=this.props,p=u.dataset,f=u.darkTheme,h=u.error,g=u.lastUpdated,j=p&&p.length>0,E=this.state.uuids,_=this.state.startUuid,C=this.state.endUuid,S=this.state.showData,w=this.state.showComparison,D=this.state.showGrouping,A=this.state.showOptions,N=this.state.options;return r.a.createElement("div",{className:m()((e={},Object(c.a)(e,yn.a.appContainer,!0),Object(c.a)(e,"darkTheme",f),e))},r.a.createElement("input",{name:"hideControls",id:"hideControls",type:"checkbox"}),r.a.createElement("label",{htmlFor:"hideControls",className:yn.a.hideControls},r.a.createElement("span",null,"<<")),r.a.createElement("div",{className:yn.a.controls},r.a.createElement(P,null),r.a.createElement("div",{className:m()(Object(c.a)({},yn.a.centerSpan,!0))},r.a.createElement("div",{className:"button circular",title:"Reset Controls",size:"3x",onClick:this.resetControls},r.a.createElement(O.a,{icon:y.i}))),r.a.createElement("div",{className:yn.a.accordionHeader,onClick:this.toggleShowData},"Data  ",!S&&r.a.createElement(O.a,{icon:y.a}),S&&r.a.createElement(O.a,{onClick:this.toggleShowData,icon:y.b})),r.a.createElement("div",{className:m()((t={},Object(c.a)(t,yn.a.section,!0),Object(c.a)(t,yn.a.hidden,!S),t))},E.map(function(e,t){return r.a.createElement("div",{key:e},r.a.createElement("div",{className:yn.a.dataControlHeader},"t",t,t>0&&r.a.createElement(O.a,{icon:y.k,onClick:function(){d.removeDatasetEntry(e)}})),r.a.createElement(gn,{uuid:e,datasets:jn}))}),r.a.createElement("span",{className:yn.a.centerSpan},r.a.createElement("div",{className:"button circular",title:"Add Dataset",onClick:this.addDatasetEntry},r.a.createElement(O.a,{icon:y.l})))),j&&r.a.createElement("div",{className:m()((a={},Object(c.a)(a,yn.a.section,!0),Object(c.a)(a,yn.a.hidden,!S),a))},r.a.createElement(ut,null)),r.a.createElement("div",{className:yn.a.accordionHeader,onClick:this.toggleShowComparison},"Comparison  ",!w&&r.a.createElement(O.a,{icon:y.a}),w&&r.a.createElement(O.a,{onClick:this.toggleShowComparison,icon:y.b})),j&&r.a.createElement("div",{className:m()((n={},Object(c.a)(n,yn.a.section,!0),Object(c.a)(n,yn.a.hierarchySection,!0),Object(c.a)(n,yn.a.hidden,!w),n))},r.a.createElement(Le,{startUid:_,endUid:C}),r.a.createElement("div",{className:yn.a.selectorContainer},r.a.createElement("span",{className:yn.a.label},"Start"),r.a.createElement("div",{className:yn.a.selector},r.a.createElement("label",{className:"select"},r.a.createElement("select",{onChange:function(e){return d.setStartUuid(e.target.value)},value:Object(v.a)(_)?"UNSET":_},r.a.createElement("option",{value:"UNSET"},"\u2014None\u2014"),E.map(function(e,t){return r.a.createElement("option",{key:e,value:e},"t",t)}))))),r.a.createElement("div",{className:yn.a.selectorContainer},r.a.createElement("span",{className:yn.a.label},"End"),r.a.createElement("div",{className:yn.a.selector},r.a.createElement("label",{className:"select"},r.a.createElement("select",{onChange:function(e){return d.setEndUuid(e.target.value)},value:Object(v.a)(C)?"UNSET":C},r.a.createElement("option",{value:"UNSET"},"\u2014None\u2014"),E.map(function(e,t){return r.a.createElement("option",{key:e,value:e},"t",t)})))))),!j&&r.a.createElement("div",{className:m()((o={},Object(c.a)(o,yn.a.section,!0),Object(c.a)(o,yn.a.dimSection,!0),Object(c.a)(o,yn.a.hierarchySection,!0),Object(c.a)(o,yn.a.hidden,!w),o))},"Please select datasets to continue"),r.a.createElement("div",{className:yn.a.accordionHeader,onClick:this.toggleShowGrouping},"Grouping  ",!D&&r.a.createElement(O.a,{icon:y.a}),D&&r.a.createElement(O.a,{onClick:this.toggleShowGrouping,icon:y.b})),j&&r.a.createElement("div",{className:m()((i={},Object(c.a)(i,yn.a.section,!0),Object(c.a)(i,yn.a.hierarchySection,!0),Object(c.a)(i,yn.a.hidden,!D),i))},r.a.createElement(Ne,null)),j&&r.a.createElement("div",{className:m()((s={},Object(c.a)(s,yn.a.section,!0),Object(c.a)(s,yn.a.hidden,!D),s))},r.a.createElement(Qe,null)),!j&&r.a.createElement("div",{className:m()((l={},Object(c.a)(l,yn.a.section,!0),Object(c.a)(l,yn.a.dimSection,!0),Object(c.a)(l,yn.a.hierarchySection,!0),Object(c.a)(l,yn.a.hidden,!D),l))},"Please select a dataset to continue"),r.a.createElement("div",{className:yn.a.footerContainer},r.a.createElement("span",{className:yn.a.centerSpan},r.a.createElement("div",{className:"button circular",title:"Import Dataset",onClick:this.showImportOptions},r.a.createElement(O.a,{icon:y.h})),r.a.createElement("div",{className:"button circular",disabled:!j,title:"Export Dataset",onClick:this.showExportOptions},r.a.createElement(O.a,{icon:y.g}))))),0===p.length&&null!==g&&r.a.createElement("div",{className:yn.a.emptyDataset},r.a.createElement("span",null,"Current dataset is empty")),r.a.createElement("div",{className:yn.a.canvas},r.a.createElement(Ha,{startUid:_,endUid:C})),r.a.createElement("div",{className:yn.a.sliderContainer},r.a.createElement(vn,{points:E,startUuid:_,endUuid:C})),r.a.createElement(b.a,{isOpen:null!==h,onRequestClose:this.onErrorClose,contentLabel:"An Error has occurred"},r.a.createElement("div",{className:yn.a.modal},r.a.createElement("div",{className:yn.a.modalMain},r.a.createElement("span",{className:yn.a.justifySpan},r.a.createElement("div",{className:yn.a.icon,title:"Error"},r.a.createElement(O.a,{icon:y.e,size:"7x",color:"#cc0000"})),r.a.createElement("div",null,h?h.message:"")),r.a.createElement("div",null,r.a.createElement("span",{className:yn.a.centerSpan},r.a.createElement("div",{className:"button circular",title:"Ok",onClick:this.onErrorClose},r.a.createElement(O.a,{icon:y.c}))))))),r.a.createElement(b.a,{isOpen:A,onRequestClose:this.cancelOptions,contentLabel:"An Error has occurred"},r.a.createElement("div",{className:yn.a.modal},r.a.createElement("div",{className:yn.a.modalMain},N.action===_n&&r.a.createElement("div",{className:yn.a.uploadContainer},r.a.createElement("span",{className:yn.a.label},"Upload"),r.a.createElement(Wa,{ownerUuid:En(),className:yn.a.fileUpload,selected:this.state.selectedFile?this.state.selectedFile.name:null,onChange:this.onUpload})),N.action===Cn&&r.a.createElement("div",{className:yn.a.uploadContainer},r.a.createElement("span",{className:yn.a.label},"Export As"),r.a.createElement("input",{type:"text",id:"export-as",value:this.state.exportName,onChange:function(e){return d.exportNameChange(e.target.value)}})),r.a.createElement("div",{className:yn.a.container},r.a.createElement("div",{className:"".concat(yn.a.checkboxContainer," input-group")},r.a.createElement("div",{className:yn.a.switch},r.a.createElement("input",{type:"checkbox",id:"data-check",checked:N.data,onChange:function(e){return d.setOptions("data",e.target.checked)}}),r.a.createElement("label",{htmlFor:"data-check",className:yn.a.switchLabel})),r.a.createElement("label",null,"Data")),r.a.createElement("div",{className:"".concat(yn.a.checkboxContainer," input-group")},r.a.createElement("div",{className:yn.a.switch},r.a.createElement("input",{type:"checkbox",id:"controls-check",checked:N.controls,onChange:function(e){return d.setOptions("controls",e.target.checked)}}),r.a.createElement("label",{htmlFor:"controls-check",className:yn.a.switchLabel})),r.a.createElement("label",null,"Controls"))),r.a.createElement("div",null,r.a.createElement("span",{className:yn.a.centerSpan},N.action===_n&&r.a.createElement("div",{className:"button circular",title:"Ok",onClick:this.processOptions},r.a.createElement(O.a,{icon:y.c})),N.action===Cn&&r.a.createElement("a",{className:"button circular",href:this.getDownloadUrl(),download:this.state.exportName,title:"Download",disabled:!j,onClick:this.cancelOptions},r.a.createElement(O.a,{icon:y.c})),r.a.createElement("div",{className:"button circular",title:"Cancel",onClick:this.cancelOptions},r.a.createElement(O.a,{icon:y.q}))))))))}}]),t}(n.Component),Dn={clearError:_.a,setHierarchyConfig:E.f,showNodes:E.h,colorBy:E.a,removeDataset:j.i,removeSearchIndex:C.f,setStartDataset:E.g,setEndDataset:E.e,uploadDataset:F},An=Object(s.b)(function(e){var t=Object(j.m)(e),a=Object.keys(t)||[En()],n=t[a[0]]&&t[a[0]].dataset?t[a[0]].dataset:[],r=Object(E.c)(e);return{dataset:n,darkTheme:r.darkTheme,error:Object(_.c)(e),lastUpdated:Object(j.h)(e,a[0]),uuids:a,startUuid:r.start,endUuid:r.end,fullDatasets:t,controls:r,keyFields:Object(j.g)(e),ignoredFields:Object(j.e)(e)}},Dn)(wn),Nn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function In(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Rn,xn=a(69),Fn=a(296),kn=a(297),Tn=a(193),Un=a.n(Tn),Mn=Object(S.a)("SET_FILTER"),Vn=Object(S.a)("CLEAR_FILTER"),Hn=Object(kn.a)((Rn={},Object(c.a)(Rn,Mn,function(e,t){var a=t.payload,n=null,r=!1;try{n=Un()(a),r=!0}catch(o){n=null,r=!1}return Object(fe.a)({},e,{filterString:a,filter:n,isValid:r})}),Object(c.a)(Rn,Vn,function(e){return Object(fe.a)({},e,{filterString:"",filter:null,isValid:!1})}),Rn),{filterString:"",filter:null,isValid:!1}),Zn=Hn,Ln=Object(xn.c)({dataset:j.c,search:C.g,controls:E.b,error:_.b,filter:Zn}),zn=a(300),Pn=a(156),Bn=Object(S.a)("FILTER_DATASET"),Gn=function(e,t){e.filtered=null;var a=e.dataset;return null!==t&&(e.filtered=a.filter(function(e){return t(e)})),e},Kn=function(e,t){return e.ofType(Bn.toString()).pipe(Object(A.a)(function(e){var a=e.payload,n=t.value.filter.filter;return null===n?Object(Pn.a)():Object(w.a)(a).pipe(Object(tt.a)(Gn(a,n)),Object(I.a)(function(e){return Object(j.s)({owner:e.owner,filtered:e.filtered})}),Object(R.a)(function(e){var t=new Error("Error filtering dataset: "+e.message);return Object(w.a)(Object(_.d)(t))}))}))},qn=Object(zn.a)(x.b,Za.b,U,ot,C.b,Ga,Kn,Fe),Wn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||xn.d,Yn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(Fn.a)(),a=Object(xn.e)(Ln,e,Wn(Object(xn.a)(t)));return t.run(qn),a}();i.a.render(r.a.createElement(s.a,{store:Yn},r.a.createElement(An,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/CRviz",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/CRviz","/service-worker.js");Nn?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):In(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):In(e)})}}()},29:function(e,t,a){"use strict";a.d(t,"d",function(){return c}),a.d(t,"c",function(){return u}),a.d(t,"a",function(){return l});var n,r=a(3),o=a(14),i=a(308),s=a(297),c=Object(i.a)("SET_ERROR"),l=Object(i.a)("CLEAR_ERROR"),d=Object(s.a)((n={},Object(r.a)(n,c,function(e,t){var a=t.payload;if(a instanceof Error){var n=a;return Object(o.a)({},e,{error:n})}return Object(o.a)({},e)}),Object(r.a)(n,l,function(e){return Object(o.a)({},e,{error:null})}),n),{error:null}),u=function(e){return e.error.error};t.b=d},30:function(e,t,a){"use strict";a.d(t,"a",function(){return f}),a.d(t,"g",function(){return O}),a.d(t,"f",function(){return h}),a.d(t,"d",function(){return v}),a.d(t,"h",function(){return m}),a.d(t,"e",function(){return g}),a.d(t,"c",function(){return b});var n=a(14),r=a(260),o=a(269),i=a(306),s=a(261),c=a(219),l=a(97),d=a(4),u=a(218),p=a(155),f=function(e){return{type:"BUILD_INDICES",payload:e}},h=function(e){return{type:"REMOVE_SEARCH_INDEX",payload:e}},m=function(e){return{type:"SET_SEARCH_RESULTS",payload:e}},g=function(e){return e.search.searchResults||[]},b=function(e){return e.search.queryString},v=function(e){return e.search.searchIndices||[]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchIndices:{},queryString:"",searchResults:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BUILD_INDICES_SUCCESS":return t.payload.forEach(function(t){e.searchIndices[t.owner]=t.index}),Object(n.a)({},e);case"SET_SEARCH_RESULTS":var a=t.payload.results,r=t.payload.queryString;return Object(n.a)({},e,{searchResults:a,queryString:r});case"REMOVE_SEARCH_INDEX":var o=t.payload.owner;return e.searchIndices.hasOwnProperty(o)&&delete e.searchIndices[o],Object(n.a)({},e);default:return e}},y=function(e){var t=[];return Object.keys(e.datasets).forEach(function(a){var n=e.datasets[a].dataset,r=Object(o.a)(e.datasets[a].configuration)||Object(i.a)(e.datasets[a].configuration)?Object(d.a)(n):e.datasets[a].configuration,s=function(e,t){var a=[];if(Object(o.a)(t))return a;for(var n in e){var r={CRVIZ_HASH_KEY:e[n].CRVIZ._HASH_KEY};for(var i in t.fields){var s=t.fields[i];r[s.displayName]=u(e[n],s.displayName)}a.push(r)}return a}(n,r),c=p(function(){var e=this;(this.ref("CRVIZ_HASH_KEY"),r&&r.fields)&&r.fields.filter(function(e){return!e.displayName.includes("/")}).map(function(t){return e.field(t.displayName.toLowerCase())});s.map(function(t){return e.add(t)})});t.push({owner:a,index:c})}),t};t.b=function(e,t){return e.pipe(Object(r.a)("BUILD_INDICES"),Object(c.a)(function(e){var t=e.payload;return Object(s.a)(t).pipe(Object(l.a)(y),Object(l.a)(function(e){return function(e){return{type:"BUILD_INDICES_SUCCESS",payload:e}}(e)}))}))}},4:function(e,t,a){"use strict";a.d(t,"r",function(){return R}),a.d(t,"p",function(){return x}),a.d(t,"k",function(){return G}),a.d(t,"m",function(){return B}),a.d(t,"i",function(){return T}),a.d(t,"s",function(){return F}),a.d(t,"j",function(){return K}),a.d(t,"n",function(){return q}),a.d(t,"o",function(){return W}),a.d(t,"d",function(){return D}),a.d(t,"a",function(){return N}),a.d(t,"u",function(){return V}),a.d(t,"f",function(){return Y}),a.d(t,"v",function(){return H}),a.d(t,"g",function(){return J}),a.d(t,"t",function(){return Z}),a.d(t,"e",function(){return Q}),a.d(t,"h",function(){return X}),a.d(t,"q",function(){return k}),a.d(t,"l",function(){return $}),a.d(t,"b",function(){return I});var n,r=a(33),o=a(3),i=a(14),s=a(47),c=a(308),l=a(297),d=a(216),u=a(298),p=a(263),f=a(52),h=a(264),m=a(265),g=a(304),b=a(266),v=a(305),O=a(267),y=a(258),j=a(301),E=a(268),_=a(259),C={owner:"",dataset:[],filtered:null,values:{},configuration:{fields:[],keyFields:[],hashFields:[]},isFetching:!1,lastUpdated:null},S=function(e,t){return t&&0!==t.length?e.filter(function(e){return!t.includes(e)}):e},w=function(e,t){e.forEach(function(e){"CRVIZ"in e||(e.CRVIZ={}),t.hashFields||(t.hashFields=S(t.fields,t.ignoredFields||[])),function(e,t){var a=e.reduce(function(e,a){return e+Object(d.a)(a.path,t)+":"},"");t.CRVIZ._HASH_KEY=a}(t.keyFields.length>0?t.keyFields:t.hashFields,e),function(e,t){var a=e.reduce(function(e,a){return e+Object(d.a)(a.path,t)+"|"},"");t.CRVIZ._HASH_WITHOUT_IGNORED=a}(t.hashFields,e)})},D=function(e){return e.path.length>=1&&e.path[0]?e.path.join("."):" "},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=function e(t){return Object(u.a)(function(t){var a=Object(s.a)(t,2),n=a[0],r=a[1];return Object(p.a)(Object,r)?Object(f.a)(Object(h.a)([n]),e(r)):[[n]]},Object(m.a)(t))}(e).filter(function(e){return"CRVIZ"!==e[0]});return Object(f.a)(function(e){var a=Object(g.a)(Object(b.a)("path",e),t)||{};return Object(v.a)({path:e,displayName:e.join("."),groupable:!0},a)},a)},N=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=A(e[0]||{},n.fields),o=S(r,a);return Object(i.a)({},n,{fields:A(e[0]||{},n.fields),keyFields:t,hashFields:o})},I=function(e,t,a,n){var r=N(e||[],a,n,t||{});w(e,r);return{dataset:e,filtered:null,values:function(e,t){return Object(O.a)(Object(f.a)(function(t){var a=Object(y.a)(Object(f.a)(Object(d.a)(t.path)),j.a,Object(E.a)(_.a))(e);return[D(t),a]},t.fields))}(e,r),configuration:r,isFetching:!1,lastUpdated:new Date}},R=Object(c.a)("SET_DATASETS"),x=Object(c.a)("SET_DATASET"),F=Object(c.a)("SET_FILTERED_DATASET"),k=Object(c.a)("SET_DATASET_DIFF"),T=Object(c.a)("REMOVE_DATASET"),U=Object(c.a)("REMOVE_FILTERED_DATASET"),M=Object(c.a)("REMOVE_DATASET_DIFF"),V=Object(c.a)("SET_IS_FETCHING"),H=Object(c.a)("SET_KEY_FIELDS"),Z=Object(c.a)("SET_IGNORED_FIELDS"),L=Object(l.a)((n={},Object(o.a)(n,R,function(e,t){var a=t.payload.datasets;return Object.keys(a).forEach(function(t){e.datasets[t]=a[t]}),Object(i.a)({},e)}),Object(o.a)(n,x,function(e,t){var a=t.payload,n=a.dataset,r=a.owner,o=a.configuration,s=J(e),c=Q(e);return e.datasets[r]=I(n,o,s,c),Object(i.a)({},e)}),Object(o.a)(n,F,function(e,t){var a=t.payload,n=a.filtered,r=a.owner;return e.datasets[r].filtered=n,Object(i.a)({},e)}),Object(o.a)(n,k,function(e,t){var a=t.payload,n=a.start,r=a.end,o=a.differences,s={start:n,end:r,differences:o},c=e.diffs.findIndex(function(e){return e.start===n&&e.end===r});return-1===c?e.diffs.push(s):e.diffs[c]=s,Object(i.a)({},e)}),Object(o.a)(n,T,function(e,t){var a=t.payload.owner;return e.datasets.hasOwnProperty(a)&&delete e.datasets[a],Object(i.a)({},e)}),Object(o.a)(n,U,function(e,t){var a=t.payload.owner;return e.datasets.hasOwnProperty(a)&&(e.datasets[a].filtered=null),Object(i.a)({},e)}),Object(o.a)(n,M,function(e,t){var a=t.payload,n=a.start,r=a.end,o=e.diffs.findIndex(function(e){return e.start===n&&e.end===r});return-1!==o&&e.diffs.splice(o,1),Object(i.a)({},e)}),Object(o.a)(n,V,function(e,t){var a=t.payload,n=a.owner,r=!!a.isFetching;return e.datasets.hasOwnProperty(n)&&(e.datasets[n].isFetching=r),Object(i.a)({},e,{isFetching:r})}),Object(o.a)(n,H,function(e,t){var a=t.payload,n=z(e);return n&&Object.keys(n).forEach(function(e){var t=n[e];t.configuration.keyFields=a,w(t.dataset,t.configuration)}),Object(i.a)({},e,{keyFields:a})}),Object(o.a)(n,Z,function(e,t){var a=t.payload,n=z(e);if(n){var r=P(e).fields,o=S(r,a);Object.keys(n).forEach(function(e){var t=n[e];t.configuration.hashFields=o,w(t.dataset,t.configuration)})}return Object(i.a)({},e,{ignoredFields:a})}),n),{datasets:{},diffs:[],keyFields:[],ignoredFields:[]}),z=function(e){return e.datasets||{}},P=function(e){var t=[],a=e.datasets;for(var n in a){var r=!0,o=!1,i=void 0;try{for(var s,c=a[n].configuration.fields[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value;t.some(function(e){return e.displayName===l.displayName})||t.push(l)}}catch(d){o=!0,i=d}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}}return{fields:t}},B=function(e){return z(e.dataset)},G=function(e,t){return e.dataset&&e.dataset.datasets[t]&&e.dataset.datasets[t].dataset?e.dataset.datasets[t].dataset:C.dataset},K=function(e,t){return e.dataset&&e.dataset.datasets[t]&&e.dataset.datasets[t].configuration?e.dataset.datasets[t].configuration:C.configuration},q=function(e){return P(e.dataset)},W=function(e){var t={},a=e.dataset.datasets;for(var n in a)for(var o in a[n].values)if(t.hasOwnProperty(o)){var i=new Set([].concat(Object(r.a)(t[o]),Object(r.a)(a[n].values[o])));t[o]=Object(r.a)(i)}else t[o]=a[n].values[o];return t},Y=function(e,t){return e.dataset.datasets[t]&&e.dataset.datasets[t].isFetching?e.dataset.datasets[t].isFetching:C.isFetching},X=function(e,t){return e.dataset.datasets[t]&&e.dataset.datasets[t].lastUpdated?e.dataset.datasets[t].lastUpdated:C.lastUpdated},J=function(e){return e.dataset&&e.dataset.keyFields?e.dataset.keyFields:[]},Q=function(e){return e.dataset&&e.dataset.ignoredFields?e.dataset.ignoredFields:[]},$=function(e,t,a){var n=[],r=G(e,t);r.forEach(function(e){e.CRVIZ._isRemoved=!1,e.CRVIZ._isChanged=!1,e.CRVIZ._isAdded=!1});var o=G(e,a);return o.forEach(function(e){e.CRVIZ._isRemoved=!1,e.CRVIZ._isChanged=!1,e.CRVIZ._isAdded=!1}),r.length>0&&0===o.length?n=r:0===r.length&&o.length>0?n=o:r.length>0&&o.length>0&&(r.forEach(function(e){var t=o.findIndex(function(t){return t.CRVIZ._HASH_KEY===e.CRVIZ._HASH_KEY});e.CRVIZ._isRemoved=-1===t,e.CRVIZ._isChanged=!1,e.CRVIZ._isAdded=!1,n.push(e)}),o.forEach(function(e){var t=n.findIndex(function(t){return t.CRVIZ._HASH_KEY===e.CRVIZ._HASH_KEY});-1===t?(e.CRVIZ._isAdded=!0,n.push(e)):n[t].CRVIZ._HASH_WITHOUT_IGNORED!==e.CRVIZ._HASH_WITHOUT_IGNORED&&(n[t].CRVIZ._isChanged=!0)})),n};t.c=L},54:function(e,t,a){e.exports={checkboxContainer:"MiscControls_checkboxContainer__3qEun",colorBy:"MiscControls_colorBy__36jis",fieldSelect:"MiscControls_fieldSelect__23xNi",switch:"MiscControls_switch__3u3nl",switchLabel:"MiscControls_switchLabel__aj7RI","switch-inner":"MiscControls_switch-inner__1-N2V",selectorContainer:"MiscControls_selectorContainer__ktFZV",selector:"MiscControls_selector__18lbV"}},70:function(e,t,a){e.exports={listContainer:"SelectedFieldList_listContainer__1Qvj-",isDropDisabled:"SelectedFieldList_isDropDisabled__1wSe7",droppable:"SelectedFieldList_droppable__3w9JP",draggable:"SelectedFieldList_draggable__1pKrD",field:"SelectedFieldList_field__30UAV",groupBy:"SelectedFieldList_groupBy__3bxtK",animated:"SelectedFieldList_animated__1gf5z",groupByEnter:"SelectedFieldList_groupByEnter__2DArZ",fieldName:"SelectedFieldList_fieldName__coZyW",dropTarget:"SelectedFieldList_dropTarget__3MnM9",isDraggingOver:"SelectedFieldList_isDraggingOver__26-4R",dragHandle:"SelectedFieldList_dragHandle__eS4Kf"}}},[[194,2,1]]]);
//# sourceMappingURL=main.d7914514.chunk.js.map